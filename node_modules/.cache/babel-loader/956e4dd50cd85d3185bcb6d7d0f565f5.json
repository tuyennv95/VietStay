{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Components/Booking/Booking.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RangeDateBlock from '../../Components/RangeDateBlock/RangeDateBlock';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\nimport { Box, Divider } from '@material-ui/core';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport queryString from \"query-string\";\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport { useHistory } from 'react-router-dom';\nconst useStyles = makeStyles(theme => ({\n  cart: {\n    borderWidth: \"1px\",\n    border: \"solid\",\n    borderColor: \"#E9E9E9\",\n    textAlign: \"center\",\n    width: '395px'\n  },\n  selectDate: {\n    width: '90%',\n    margin: 'auto',\n    border: '1px solid gray',\n    position: 'relative',\n    height: '45px',\n    marginBot: '20px',\n    display: 'flex',\n    justifyContent: 'space-around',\n    '&:focus-within': {\n      '& $tableSelectDate': {\n        display: 'inline-block'\n      }\n    }\n  },\n  tableSelectDate: {\n    position: 'absolute',\n    top: '50px',\n    left: '30%',\n    transform: 'translateX(-50%)',\n    zIndex: 999,\n    display: 'none',\n    height: '500px'\n  },\n  selectGuest: {\n    width: '90%',\n    margin: 'auto',\n    border: '1px solid gray',\n    position: 'relative',\n    height: '45px',\n    margin: '20px 0',\n    textAlign: 'left',\n    '&:focus-within': {\n      '& $tableSelectGuest': {\n        display: 'inline-block'\n      }\n    }\n  },\n  tableSelectGuest: {\n    backgroundColor: '#FFFFFF',\n    border: '1px solid gray',\n    borderRadius: '5px',\n    position: 'absolute',\n    top: '50px',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    zIndex: 999,\n    display: 'none',\n    height: '300px',\n    width: '300px'\n  },\n  select_slot: {\n    position: 'absolute',\n    width: '320px',\n    height: '230px',\n    backgroundColor: '#FFFFFF',\n    top: '140%',\n    left: 0,\n    display: 'none',\n    borderRadius: '5px',\n    border: '1px solid #c6c9d1'\n  },\n  select_slot_object: {\n    width: '90%',\n    height: '25%',\n    paddingTop: '25px',\n    display: 'flex',\n    margin: 'auto',\n    justifyContent: 'space-between'\n  },\n  slot_object_amount: {\n    width: '40%',\n    display: 'flex',\n    justifyContent: 'space-between' // paddingBottom: '5px',\n\n  },\n  button_cancel_check: {\n    width: '100%',\n    display: 'flex',\n    textAlign: 'right',\n    justifyContent: 'flex-end',\n    marginBottom: '5px'\n  },\n  button_cancel: {\n    marginRight: '15px',\n    paddingTop: '2px'\n  },\n  button_check: {\n    padding: '3px 10px',\n    // backgroundColor: '#f77307',\n    borderRadius: '30px'\n  },\n  detail_price_house_book: {\n    width: '90%',\n    margin: '0 auto'\n  },\n  text_price_house_book: {\n    fontSize: '14px'\n  }\n}));\n\nfunction Booking(props) {\n  _s();\n\n  const classes = useStyles();\n  const [adults, setAdults] = React.useState(1);\n  const [children, setChildren] = React.useState(0);\n  const [infant, setInfant] = React.useState(0);\n  const [startDate, setStartDate] = React.useState();\n  const [endDate, setEndDate] = React.useState(); // const [roomBook,setRoomBook] = React.useState({\n  //     adults: adults,\n  //     children:children,\n  //     infant:infant,\n  //     startDate: null,\n  //     endDate: null,\n  // })\n\n  const [hidden, setHidden] = React.useState(false);\n  const [room, setRoom] = React.useState();\n  const [tb, setTb] = React.useState(false);\n  const id = props.roomId;\n\n  const addAdults = () => {\n    setAdults(adults + 1);\n  };\n\n  const removeAdults = () => {\n    if (adults > 1) {\n      setAdults(adults - 1);\n    }\n  };\n\n  const addChildren = () => {\n    setChildren(children + 1);\n  };\n\n  const removeChildren = () => {\n    if (children > 0) {\n      setChildren(children - 1);\n    }\n  };\n\n  const addInfant = () => {\n    setInfant(infant + 1);\n  };\n\n  const removeInfant = () => {\n    if (infant > 0) {\n      setInfant(infant - 1);\n    }\n  };\n\n  function huyPeople() {\n    setChildren(0);\n    setInfant(0);\n    setAdults(1);\n  }\n\n  const [scrollPosition, setScrollPosition] = React.useState(false);\n\n  const handleScroll = () => {\n    const position = window.pageYOffset;\n\n    if (position >= 520) {\n      setScrollPosition(!scrollPosition);\n    } else if (position < 520) {\n      setScrollPosition(false);\n    }\n  };\n\n  React.useEffect(() => {\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  React.useEffect(() => {\n    axios.get(`http://localhost:1337/house-for-rents/${id}`).then(response => {\n      setRoom(response.data);\n    }).catch(error => {\n      console.log(\"lỗi\");\n    });\n  }, []);\n  let dataBooking = useSelector(state => state.search);\n  React.useEffect(() => {\n    // setAdults(()=>{\n    //     if((dataBooking?.adults + dataBooking?.children) <= room?.people_max){\n    //         return dataBooking?.adults;\n    //     }\n    // }) \n    // setChildren(()=>{\n    //     if((dataBooking?.adults + dataBooking?.children) <= room?.people_max){\n    //         return dataBooking?.children;\n    //     }\n    // }) \n    // setAdults(dataBooking?.adults, dataBooking?.children, room?.people_max);\n    // setChildren(dataBooking?.adults, dataBooking?.children, room?.people_max);\n    // setChildren(dataBooking.children);\n    // else{\n    setAdults(dataBooking.adults);\n    setChildren(dataBooking.children); // }\n    // else if( dataBooking?.adults > room?.people_max || dataBooking?.children > room?.people_max){\n    //     setAdults(room.people_max - 1);\n    //     setChildren(1);\n    // }\n\n    setInfant(dataBooking.infant);\n    setStartDate(dataBooking.startDate);\n    setEndDate(dataBooking.endDate);\n  }, [dataBooking]);\n  let a = moment(startDate, 'DD-MM-YYYY');\n  let b = moment(endDate, 'DD-MM-YYYY');\n  const numberDayBooking = b.diff(a, 'days'); // console.log(a,b)\n  // const calPrice = numberDayBooking * room.price;\n\n  function calculate() {\n    if (numberDayBooking) {\n      return numberDayBooking * room.price;\n    } else return room.price;\n  }\n\n  function tinhPhi() {\n    if (adults + children <= room.people_number) {\n      return 0;\n    } else {\n      const phi = (adults + children - room.people_number) * room.price_1_poeple_exceed;\n      return phi;\n    }\n  }\n\n  const dispatch = useDispatch();\n  const history = useHistory(); // console.log(\"🚀 ~ file: Booking.js ~ line 247 ~ Booking ~ idUser\", idUser)\n\n  const idUser = useSelector(state => state.login.id);\n\n  function setBookingSuccess() {\n    dispatch({\n      type: \"BOOKING\",\n      payload: {\n        idRoom: id,\n        idUser: idUser,\n        startDate: startDate,\n        endDate: endDate,\n        numberDayBooking: numberDayBooking,\n        adults: adults,\n        children: children,\n        price: calculate(),\n        phi: tinhPhi()\n      }\n    });\n    history.push(`/pay?id=${id}&checkIn=${startDate}&checkOut=${endDate}${adults ? `&adults=${adults}` : ''}${children ? `&children=${children}` : ''}`);\n  } // console.log(room)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: room && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.cart,\n      style: {\n        position: `${scrollPosition === true ? 'fixed' : ''}`,\n        top: `${scrollPosition === true ? '100px' : ''}`\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          padding: '20px 20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: new Intl.NumberFormat('vn-VN', {\n            style: 'currency',\n            currency: 'VND'\n          }).format(calculate())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginLeft: 5,\n            alignSelf: 'center'\n          },\n          children: [\"/\", numberDayBooking ? numberDayBooking : null, \"\\u0111\\xEAm\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.selectDate,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: startDate || 'dd/mm/yy'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: /*#__PURE__*/_jsxDEV(ArrowRightAltIcon, {\n            fontSize: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: endDate || 'dd/mm/yy'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.selectGuest,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          children: adults + children\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.tableSelectGuest,\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            className: classes.select_slot_object,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: \"Ng\\u01B0\\u1EDDi l\\u1EDBn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              className: classes.slot_object_amount,\n              children: [/*#__PURE__*/_jsxDEV(RemoveCircleOutlineIcon, {\n                fontSize: \"large\",\n                color: \"action\",\n                onClick: removeAdults\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                children: adults\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(AddCircleOutlineIcon, {\n                fontSize: \"large\",\n                color: adults + children >= (room === null || room === void 0 ? void 0 : room.people_max) ? 'disabled' : 'action',\n                onClick: addAdults,\n                style: {\n                  pointerEvents: `${adults + children >= (room === null || room === void 0 ? void 0 : room.people_max) ? 'none' : 'auto'}`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.select_slot_object,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"Tr\\u1EBB em \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              className: classes.slot_object_amount,\n              children: [/*#__PURE__*/_jsxDEV(RemoveCircleOutlineIcon, {\n                fontSize: \"large\",\n                color: \"action\",\n                onClick: removeChildren\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                children: children\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(AddCircleOutlineIcon, {\n                fontSize: \"large\",\n                color: adults + children >= (room === null || room === void 0 ? void 0 : room.people_max) ? 'disabled' : 'action',\n                onClick: addChildren,\n                style: {\n                  pointerEvents: `${adults + children >= (room === null || room === void 0 ? void 0 : room.people_max) ? 'none' : 'auto'}`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.select_slot_object,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: [\"Tr\\u1EBB s\\u01A1 sinh \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              className: classes.slot_object_amount,\n              children: [/*#__PURE__*/_jsxDEV(RemoveCircleOutlineIcon, {\n                fontSize: \"large\",\n                color: \"action\",\n                onClick: removeInfant\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                children: infant\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(AddCircleOutlineIcon, {\n                fontSize: \"large\",\n                color: \"action\",\n                onClick: addInfant\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.select_slot_object,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.button_cancel_check,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                color: \"textSecondary\",\n                className: classes.button_cancel,\n                onClick: huyPeople,\n                children: \"H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                color: \"textSecondary\",\n                className: classes.button_check,\n                children: \"\\xC1p d\\u1EE5ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }, this), numberDayBooking && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Divider, {\n          component: \"hr\",\n          style: {\n            width: '85%',\n            margin: '0 auto',\n            marginTop: '20px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.detail_price_house_book,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              paddingTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.text_price_house_book,\n              children: [\" Gi\\xE1 thu\\xEA \", numberDayBooking, \" \\u0111\\xEAm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.text_price_house_book,\n              children: new Intl.NumberFormat('vn-VN', {\n                style: 'currency',\n                currency: 'VND'\n              }).format(calculate())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              paddingTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.text_price_house_book,\n              children: \"Ph\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.text_price_house_book,\n              children: new Intl.NumberFormat('vn-VN', {\n                style: 'currency',\n                currency: 'VND'\n              }).format(tinhPhi())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            component: \"hr\",\n            style: {\n              width: '100%',\n              margin: '0 auto',\n              marginTop: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              paddingTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.text_price_house_book,\n              style: {\n                fontWeight: 700\n              },\n              children: \"T\\u1ED5ng ti\\u1EC1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.text_price_house_book,\n              style: {\n                fontWeight: 700\n              },\n              children: new Intl.NumberFormat('vn-VN', {\n                style: 'currency',\n                currency: 'VND'\n              }).format(calculate() + tinhPhi())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlignLast: \"center\",\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            size: \"large\",\n            color: \"secondary\",\n            style: {\n              width: '85%',\n              margin: '0 auto'\n            },\n            onClick: setBookingSuccess,\n            children: \"\\u0110\\u1EB7t Ngay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true) || null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 17\n    }, this) || null\n  }, void 0, false);\n}\n\n_s(Booking, \"bcHBtTDLbaE3DIwxQC1NWD4JsDs=\", false, function () {\n  return [useStyles, useSelector, useDispatch, useHistory, useSelector];\n});\n\n_c = Booking;\nexport default Booking;\n\nvar _c;\n\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Components/Booking/Booking.js"],"names":["React","makeStyles","RangeDateBlock","Button","Typography","ArrowRightAltIcon","Box","Divider","RemoveCircleOutlineIcon","AddCircleOutlineIcon","queryString","axios","useDispatch","useSelector","moment","useHistory","useStyles","theme","cart","borderWidth","border","borderColor","textAlign","width","selectDate","margin","position","height","marginBot","display","justifyContent","tableSelectDate","top","left","transform","zIndex","selectGuest","tableSelectGuest","backgroundColor","borderRadius","select_slot","select_slot_object","paddingTop","slot_object_amount","button_cancel_check","marginBottom","button_cancel","marginRight","button_check","padding","detail_price_house_book","text_price_house_book","fontSize","Booking","props","classes","adults","setAdults","useState","children","setChildren","infant","setInfant","startDate","setStartDate","endDate","setEndDate","hidden","setHidden","room","setRoom","tb","setTb","id","roomId","addAdults","removeAdults","addChildren","removeChildren","addInfant","removeInfant","huyPeople","scrollPosition","setScrollPosition","handleScroll","window","pageYOffset","useEffect","addEventListener","passive","removeEventListener","get","then","response","data","catch","error","console","log","dataBooking","state","search","a","b","numberDayBooking","diff","calculate","price","tinhPhi","people_number","phi","price_1_poeple_exceed","dispatch","history","idUser","login","setBookingSuccess","type","payload","idRoom","push","Intl","NumberFormat","style","currency","format","marginLeft","alignSelf","people_max","pointerEvents","marginTop","fontWeight","textAlignLast"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport RangeDateBlock from '../../Components/RangeDateBlock/RangeDateBlock';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt';\nimport { Box, Divider } from '@material-ui/core';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport queryString from \"query-string\";\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport {useHistory} from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    cart: {\n        borderWidth: \"1px\",\n        border: \"solid\",\n        borderColor: \"#E9E9E9\",\n        textAlign: \"center\",\n        width: '395px'\n    },\n    selectDate: {\n        width: '90%', margin: 'auto', border: '1px solid gray',\n        position: 'relative',\n        height: '45px',\n        marginBot: '20px',\n        display: 'flex',\n        justifyContent: 'space-around',\n        '&:focus-within': {\n            '& $tableSelectDate': {\n                display: 'inline-block',\n            }\n\n        }\n    },\n    tableSelectDate: {\n        position: 'absolute',\n        top: '50px',\n        left: '30%',\n        transform: 'translateX(-50%)',\n        zIndex: 999,\n        display: 'none',\n        height: '500px',\n    },\n    selectGuest: {\n        width: '90%', margin: 'auto', border: '1px solid gray',\n        position: 'relative',\n        height: '45px',\n        margin: '20px 0',\n        textAlign: 'left',\n\n        '&:focus-within': {\n            '& $tableSelectGuest': {\n                display: 'inline-block',\n            }\n\n\n        }\n\n    },\n    tableSelectGuest: {\n        backgroundColor: '#FFFFFF',\n        border: '1px solid gray',\n        borderRadius: '5px',\n        position: 'absolute',\n        top: '50px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        zIndex: 999,\n        display: 'none',\n        height: '300px',\n        width: '300px',\n    },\n    select_slot: {\n        position: 'absolute',\n        width: '320px',\n        height: '230px',\n        backgroundColor: '#FFFFFF',\n        top: '140%',\n        left: 0,\n\n        display: 'none',\n        borderRadius: '5px',\n        border: '1px solid #c6c9d1',\n    },\n    select_slot_object: {\n        width: '90%',\n        height: '25%',\n        paddingTop: '25px',\n\n        display: 'flex',\n        margin: 'auto',\n        justifyContent: 'space-between'\n\n    },\n    slot_object_amount: {\n        width: '40%',\n        display: 'flex',\n        justifyContent: 'space-between',\n        // paddingBottom: '5px',\n\n    },\n    button_cancel_check: {\n        width: '100%',\n        display: 'flex',\n        textAlign: 'right',\n        justifyContent: 'flex-end',\n        marginBottom: '5px',\n\n    },\n    button_cancel: {\n        marginRight: '15px',\n        paddingTop: '2px',\n\n    },\n    button_check: {\n        padding: '3px 10px',\n        // backgroundColor: '#f77307',\n        borderRadius: '30px',\n\n\n    },\n    detail_price_house_book: {\n        width: '90%',\n        margin: '0 auto',\n    },\n    text_price_house_book: {\n        fontSize: '14px',\n\n    },\n\n\n\n}));\n\nfunction Booking(props) {\n    const classes = useStyles()\n    const [adults, setAdults] = React.useState(1);\n    const [children, setChildren] = React.useState(0);\n    const [infant, setInfant] = React.useState(0);\n    const [startDate, setStartDate] = React.useState();\n    const [endDate, setEndDate] = React.useState();\n    // const [roomBook,setRoomBook] = React.useState({\n    //     adults: adults,\n    //     children:children,\n    //     infant:infant,\n    //     startDate: null,\n    //     endDate: null,\n\n    // })\n    const [hidden, setHidden] = React.useState(false);\n    const [room, setRoom] = React.useState();\n    const [tb, setTb] = React.useState(false);\n    const id = props.roomId;\n    const addAdults = () => {\n        setAdults(adults + 1);\n        \n        \n    };\n    const removeAdults = () => {\n        if (adults > 1) {\n            setAdults(adults - 1);\n        }\n    };\n    const addChildren = () => {\n        setChildren(children + 1)\n    };\n    const removeChildren = () => {\n        if (children > 0) {\n            setChildren(children - 1);\n        }\n    };\n    const addInfant = () => {\n        setInfant(infant + 1)\n    };\n    const removeInfant = () => {\n        if (infant > 0) {\n            setInfant(infant - 1);\n        }\n    };\n\n    function huyPeople() {\n        setChildren(0);\n        setInfant(0);\n        setAdults(1);\n    }\n\n    const [scrollPosition, setScrollPosition] = React.useState(false);\n    const handleScroll = () => {\n        const position = window.pageYOffset;\n\n        if (position >= 520) {\n            setScrollPosition(!scrollPosition)\n        }\n        else if (position < 520) {\n            setScrollPosition(false)\n        }\n    };\n    React.useEffect(() => {\n        window.addEventListener('scroll', handleScroll, { passive: true });\n\n        return () => {\n            window.removeEventListener('scroll', handleScroll);\n        };\n    }, []);\n    React.useEffect(() => {\n        axios.get(`http://localhost:1337/house-for-rents/${id}`)\n            .then(response => {\n                setRoom(response.data);\n            }).catch((error) => {\n                console.log(\"lỗi\");\n            })\n    }, [])\n    let dataBooking = useSelector((state) => state.search)\n   \n    React.useEffect(() => {\n        \n        // setAdults(()=>{\n        //     if((dataBooking?.adults + dataBooking?.children) <= room?.people_max){\n        //         return dataBooking?.adults;\n        //     }\n        // }) \n        // setChildren(()=>{\n        //     if((dataBooking?.adults + dataBooking?.children) <= room?.people_max){\n        //         return dataBooking?.children;\n        //     }\n        // }) \n            // setAdults(dataBooking?.adults, dataBooking?.children, room?.people_max);\n            // setChildren(dataBooking?.adults, dataBooking?.children, room?.people_max);\n            // setChildren(dataBooking.children);\n        \n        // else{\n            setAdults(dataBooking.adults);\n            setChildren(dataBooking.children);\n        // }\n        // else if( dataBooking?.adults > room?.people_max || dataBooking?.children > room?.people_max){\n        //     setAdults(room.people_max - 1);\n        //     setChildren(1);\n\n        // }\n            \n        \n         setInfant(dataBooking.infant);\n        setStartDate(dataBooking.startDate);\n        setEndDate(dataBooking.endDate);\n    }, [dataBooking ])\n\n    let a = moment(startDate, 'DD-MM-YYYY')\n    let b = moment(endDate, 'DD-MM-YYYY')\n    const numberDayBooking = b.diff(a, 'days');\n        // console.log(a,b)\n    // const calPrice = numberDayBooking * room.price;\n\n    function calculate() {\n        if (numberDayBooking) {\n            return numberDayBooking * room.price;\n        }\n        else\n            return room.price;\n    }\n    function tinhPhi(){\n        if((adults + children) <= room.people_number){\n            return 0;\n        }\n        else{\n            const phi = ((adults + children) - room.people_number)* room.price_1_poeple_exceed;\n            return phi;\n            \n        }\n    }\n    const dispatch = useDispatch();\n    const history = useHistory();\n         // console.log(\"🚀 ~ file: Booking.js ~ line 247 ~ Booking ~ idUser\", idUser)\n    const idUser = useSelector((state) => state.login.id);\n    function setBookingSuccess(){\n        dispatch({\n            type: \"BOOKING\",\n            payload:{\n                idRoom: id,\n                idUser: idUser,\n                startDate: startDate,\n                endDate: endDate,\n                numberDayBooking: numberDayBooking,\n                adults: adults,\n                children: children,\n                price:  calculate(),\n                phi: tinhPhi(),\n            }\n        })\n        history.push(`/pay?id=${id}&checkIn=${startDate}&checkOut=${endDate}${adults ? `&adults=${adults}` : ''}${children ? `&children=${children}` : ''}`)\n    }\n    // console.log(room)\n    \n    return (\n        <>\n            { (room && (\n                <div className={classes.cart} style={{\n                    position: `${scrollPosition === true ? 'fixed' : ''}`,\n                    top: `${scrollPosition === true ? '100px' : ''}`\n\n                }} >\n                    <div style={{ display: 'flex', padding: '20px 20px' }}>\n                        <h1>{new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(calculate())}</h1>\n                        <p style={{ marginLeft: 5, alignSelf: 'center', }}>/{numberDayBooking ? numberDayBooking : null}đêm</p>\n                        {/* <p style={{ marginLeft: 5, alignSelf: 'center', textDecorationLine: \"line-through\" }}>1,000,000₫</p> */}\n                    </div>\n                    <Button className={classes.selectDate} >\n                        <Typography >\n                            {startDate || 'dd/mm/yy'}\n                        </Typography>\n                        <Typography >\n                            <ArrowRightAltIcon fontSize=\"large\" />\n                        </Typography>\n                        <Typography>\n                            {endDate || 'dd/mm/yy'}\n\n                        </Typography>\n\n                        {/* <div className={classes.tableSelectDate}>\n                    <RangeDateBlock />\n                </div> */}\n                    </Button>\n                    <Button className={classes.selectGuest} >\n                        <Typography >\n                            {adults + children}\n                        </Typography>\n                        <div className={classes.tableSelectGuest}>\n                            {/* <Box className={classes.select_slot}> */}\n                            <Box className={classes.select_slot_object}>\n                                <Typography>Người lớn</Typography>\n                                <Box className={classes.slot_object_amount}>\n                                    <RemoveCircleOutlineIcon fontSize=\"large\" color=\"action\" onClick={removeAdults}  />\n                                    <Typography variant=\"h5\">\n                                        {adults}\n                                    </Typography>\n                                    <AddCircleOutlineIcon fontSize=\"large\" color={adults + children >= room?.people_max ? 'disabled' : 'action'} onClick={addAdults} style={{pointerEvents: `${adults + children >= room?.people_max ? 'none' : 'auto'}`  }} />\n\n                                </Box>\n                            </Box>\n                            <Box className={classes.select_slot_object}>\n                                <Typography >\n                                    Trẻ em <br />\n\n                                </Typography>\n                                <Box className={classes.slot_object_amount}>\n                                    <RemoveCircleOutlineIcon fontSize=\"large\" color=\"action\" onClick={removeChildren} />\n                                    <Typography variant=\"h5\">\n                                        {children}\n                                    </Typography>\n                                    <AddCircleOutlineIcon fontSize=\"large\" color={adults + children >= room?.people_max ? 'disabled' : 'action'} onClick={addChildren} style={{pointerEvents: `${adults + children >= room?.people_max ? 'none' : 'auto'}`  }} />\n\n                                </Box>\n                            </Box>\n                            <Box className={classes.select_slot_object}>\n                                <Typography >\n                                    Trẻ sơ sinh <br />\n\n                                </Typography>\n                                <Box className={classes.slot_object_amount}>\n                                    <RemoveCircleOutlineIcon fontSize=\"large\" color=\"action\" onClick={removeInfant} />\n                                    <Typography variant=\"h5\">\n                                        {infant}\n                                    </Typography>\n                                    <AddCircleOutlineIcon fontSize=\"large\" color=\"action\" onClick={addInfant} />\n\n                                </Box>\n                            </Box>\n                            <Box className={classes.select_slot_object}>\n                                <div className={classes.button_cancel_check}>\n                                    <Typography color=\"textSecondary\" className={classes.button_cancel} onClick={huyPeople}>\n                                        Hủy\n                                        </Typography>\n                                    <Typography color=\"textSecondary\" className={classes.button_check}>\n                                        Áp dụng\n                                            </Typography>\n                                </div>\n\n                            </Box>\n                            {/* </Box> */}\n                        </div>\n                    </Button>\n                    \n                    {(numberDayBooking && (\n                    <>\n                    <Divider component=\"hr\" style={{ width: '85%', margin: '0 auto', marginTop: '20px' }} />\n                    <div className={classes.detail_price_house_book}>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', paddingTop: '20px' }}>\n                            <Typography className={classes.text_price_house_book}> Giá thuê {numberDayBooking} đêm</Typography>\n                            <Typography className={classes.text_price_house_book}>\n                            {new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(calculate())}\n                            </Typography>\n                        </div>\n                        <div style={{ display: 'flex', justifyContent: 'space-between', paddingTop: '20px' }}>\n                            <Typography className={classes.text_price_house_book}>Phí</Typography>\n                            <Typography className={classes.text_price_house_book}> \n                            {new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(tinhPhi())}\n                            \n                            </Typography>\n                        </div>\n\n\n                        <Divider component=\"hr\" style={{ width: '100%', margin: '0 auto', marginTop: '20px' }} />\n                        <div style={{ display: 'flex', justifyContent: 'space-between', paddingTop: '20px' }}>\n                            <Typography className={classes.text_price_house_book} style={{ fontWeight: 700 }}>Tổng tiền</Typography>\n                            <Typography className={classes.text_price_house_book} style={{ fontWeight: 700 }}>\n                            {new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(calculate() + tinhPhi() )}\n\n                            </Typography>\n                        </div>\n                    </div>\n                    <div style={{ textAlignLast: \"center\", marginTop: '20px' }}>\n                        <Button variant=\"contained\" size=\"large\" color=\"secondary\" style={{ width: '85%', margin: '0 auto' }} onClick={setBookingSuccess}>\n                                Đặt Ngay\n                        </Button>\n\n                    </div>\n                    </>\n                    ) || null )}\n\n\n\n\n                </div>\n            ) || null)}\n        </>\n    )\n}\n\n\nexport default Booking"]},"metadata":{},"sourceType":"module"}