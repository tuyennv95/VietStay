{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Components/SignIn/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Typography, InputBase, InputAdornment, Button, Link, IconButton } from \"@material-ui/core\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\"; // import './styles.css';\n// import Autocomplete from '@material-ui/lab/Autocomplete';\n\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\nimport HttpsIcon from \"@material-ui/icons/Https\"; // ----------------\n\nimport { loginApi } from \"../../Services/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport { LOGIN_SUCCESS } from \"../../Constants/action-type\";\nimport { BASE_API } from '../../Constants/index';\nconst useStyles = makeStyles(theme => ({\n  sign_in: {\n    width: \"85%\",\n    paddingTop: \"30px\",\n    margin: \"auto\"\n  },\n  input_group: {\n    width: \"100%\"\n  },\n  sign_in_name_form: {\n    fontSize: \"24px\",\n    fontWeight: 900,\n    lineHeight: \"30px\",\n    color: \"#000000\"\n  },\n  name_input: {\n    fontSize: \"16px\",\n    fontWeight: 700,\n    lineHeight: \"24px\",\n    color: \"#222222\",\n    paddingTop: \"20px\",\n    paddingBottom: \"10px\"\n  },\n  input: {\n    border: \"1px solid #d6d1d1\",\n    borderRadius: \"30px\",\n    paddingLeft: \"20px\",\n    paddingRight: \"10px\",\n    width: \"100%\",\n    height: \"48px\",\n    marginTop: \"30px\"\n  },\n  // ------------------------------------------------------------\n  input_phone_code_nation: {\n    width: \"120px\",\n    height: \"48px\" // borderRadius:'25px!important',\n    // border:'1px solid rimport { Button } from '@material-ui/core/Button';\n\n  },\n  input2: {\n    border: \"1px solid #d6d1d1\",\n    borderRadius: \"30px\",\n    paddingLeft: \"20px\",\n    paddingRight: \"10px\",\n    width: \"calc(100% - 145px)\",\n    height: \"48px\"\n  },\n  button_sign_in: {\n    width: \"100%\",\n    backgroundImage: \"linear-gradient(90deg,#f65e38 0,#f68a39 51%,#f65e38)\",\n    backgroundSize: \"200% auto\",\n    marginTop: \"25px\",\n    height: \"48px\",\n    borderRadius: \"30px\",\n    \"&:hover\": {\n      backgroundPositionX: \"100%\",\n      backgroundPositionY: \"center\"\n    }\n  },\n  button_add_mxh: {\n    width: \"100%\",\n    height: \"48px\",\n    borderRadius: \"30px\",\n    border: \"1px solid gray\",\n    fontSize: \"14px\",\n    marginTop: \"20px\",\n    pointerEvents: \"relative\"\n  },\n  icon_button_mxh: {\n    position: \"absolute\",\n    right: 0\n  },\n  icon_button_mxh2: {\n    position: \"absolute\",\n    right: 3\n  }\n})); // function countryToFlag(isoCode) {\n//     return typeof String.fromCodePoint !== 'undefined'\n//         ? isoCode\n//             .toUpperCase()\n//             .replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + 127397))\n//         : isoCode;\n// }\n\nexport default function SignIn() {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n  const [loginSuccess, setLoginSuccess] = React.useState(null);\n  const [inputLogin, setInputLogin] = React.useState({\n    identifier: \"\",\n    password: \"\"\n  });\n\n  function onChangeInputLogin(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputLogin({ ...inputLogin,\n      [name]: value\n    });\n  }\n\n  function clickLogin() {\n    loginApi({\n      identifier: inputLogin.identifier,\n      password: inputLogin.password\n    }).then(response => {\n      console.log(response.data);\n      let str = response.config.data;\n      let strToArr = str.split('\"');\n      let pass = strToArr[7]; // document.cookie = \"jwt=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/form/signin;\";\n\n      document.cookie = `${response.data.user.username}=${response.data.jwt}, expires=${new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)}`;\n\n      if (response.data) {\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: {\n            id: response.data.user._id,\n            jwt: response.data.jwt,\n            username: response.data.user.username,\n            email: response.data.user.email,\n            password: pass,\n            role: response.data.user.role.type,\n            avatar: '/uploads/0_B25_D554_4386_4_AB_7_AA_8_A_6_B576_D569_F97_a1cc015e3e_7a35db9570.jpg',\n            isLogin: true\n          }\n        });\n      }\n\n      history.push(\"/\");\n    }).catch(error => {\n      console.log(\"Ôi thôi lỗi rồi: \", error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.sign_in,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      className: classes.sign_in_name_form,\n      children: \"\\u0110\\u0103ng nh\\u1EADp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.input_group,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        className: classes.name_input,\n        children: \"\\u0110\\u0103ng nh\\u1EADp VietStay \\u0111\\u1EC3 tr\\u1EA3i nghi\\u1EC7m\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        className: classes.input,\n        onChange: onChangeInputLogin,\n        name: \"identifier\",\n        value: inputLogin.identifier,\n        inputProps: {\n          \"aria-label\": \"input email\"\n        },\n        endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"start\",\n          children: /*#__PURE__*/_jsxDEV(MailOutlineIcon, {\n            style: {\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        onChange: onChangeInputLogin,\n        type: \"password\",\n        name: \"password\",\n        value: inputLogin.password,\n        className: classes.input,\n        inputProps: {\n          \"aria-label\": \"input pass\"\n        },\n        endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"start\",\n          children: /*#__PURE__*/_jsxDEV(HttpsIcon, {\n            style: {\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.button_sign_in,\n      onClick: clickLogin,\n      children: \"\\u0110\\u0103ng nh\\u1EADp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      style: {\n        textAlign: \"center\",\n        paddingTop: \"30px\"\n      },\n      children: [\"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n        href: \"#\",\n        color: \"secondary\",\n        children: \"Nh\\u1EA5n v\\xE0o \\u0111\\xE2y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      style: {\n        textAlign: \"center\",\n        paddingTop: \"30px\"\n      },\n      children: [\"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n VietStay?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n        href: \"/form/signup\",\n        color: \"secondary\",\n        children: \"\\u0110\\u0103ng k\\xFD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      style: {\n        textAlign: \"center\",\n        paddingTop: \"30px\"\n      },\n      children: \"Ho\\u1EB7c\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.button_add_mxh,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          fontSize: \"14px\"\n        },\n        children: \"\\u0110\\u0103ng nh\\u1EADp v\\u1EDBi FaceBook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        className: classes.icon_button_mxh,\n        children: /*#__PURE__*/_jsxDEV(FacebookIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.button_add_mxh,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          fontSize: \"14px\"\n        },\n        children: \"\\u0110\\u0103ng nh\\u1EADp v\\u1EDBi Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        className: classes.icon_button_mxh2,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          style: {\n            fontSize: \"20px\"\n          },\n          className: \"fa fa-google\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignIn, \"V39qaco4jSY8QU9IV322AaCe2Z8=\", false, function () {\n  return [useDispatch, useHistory, useStyles];\n});\n\n_c = SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Components/SignIn/SignIn.js"],"names":["React","makeStyles","Typography","InputBase","InputAdornment","Button","Link","IconButton","MailOutlineIcon","FacebookIcon","HttpsIcon","loginApi","useDispatch","useHistory","axios","LOGIN_SUCCESS","BASE_API","useStyles","theme","sign_in","width","paddingTop","margin","input_group","sign_in_name_form","fontSize","fontWeight","lineHeight","color","name_input","paddingBottom","input","border","borderRadius","paddingLeft","paddingRight","height","marginTop","input_phone_code_nation","input2","button_sign_in","backgroundImage","backgroundSize","backgroundPositionX","backgroundPositionY","button_add_mxh","pointerEvents","icon_button_mxh","position","right","icon_button_mxh2","SignIn","dispatch","history","classes","loginSuccess","setLoginSuccess","useState","inputLogin","setInputLogin","identifier","password","onChangeInputLogin","e","name","value","target","clickLogin","then","response","console","log","data","str","config","strToArr","split","pass","document","cookie","user","username","jwt","Date","now","type","payload","id","_id","email","role","avatar","isLogin","push","catch","error","textAlign"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Typography,\n  InputBase,\n  InputAdornment,\n  Button,\n  Link,\n  IconButton,\n} from \"@material-ui/core\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\n// import './styles.css';\n// import Autocomplete from '@material-ui/lab/Autocomplete';\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\nimport HttpsIcon from \"@material-ui/icons/Https\";\n// ----------------\nimport { loginApi } from \"../../Services/Api\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport { LOGIN_SUCCESS } from \"../../Constants/action-type\";\nimport { BASE_API } from '../../Constants/index';\nconst useStyles = makeStyles((theme) => ({\n  sign_in: {\n    width: \"85%\",\n    paddingTop: \"30px\",\n    margin: \"auto\",\n  },\n  input_group: {\n    width: \"100%\",\n  },\n  sign_in_name_form: {\n    fontSize: \"24px\",\n    fontWeight: 900,\n\n    lineHeight: \"30px\",\n    color: \"#000000\",\n  },\n  name_input: {\n    fontSize: \"16px\",\n    fontWeight: 700,\n    lineHeight: \"24px\",\n    color: \"#222222\",\n    paddingTop: \"20px\",\n    paddingBottom: \"10px\",\n  },\n  input: {\n    border: \"1px solid #d6d1d1\",\n    borderRadius: \"30px\",\n    paddingLeft: \"20px\",\n    paddingRight: \"10px\",\n    width: \"100%\",\n    height: \"48px\",\n    marginTop: \"30px\",\n  },\n  // ------------------------------------------------------------\n  input_phone_code_nation: {\n    width: \"120px\",\n    height: \"48px\",\n    // borderRadius:'25px!important',\n    // border:'1px solid rimport { Button } from '@material-ui/core/Button';\n  },\n\n\n  input2: {\n    border: \"1px solid #d6d1d1\",\n    borderRadius: \"30px\",\n    paddingLeft: \"20px\",\n    paddingRight: \"10px\",\n    width: \"calc(100% - 145px)\",\n    height: \"48px\",\n  },\n\n  button_sign_in: {\n    width: \"100%\",\n    backgroundImage: \"linear-gradient(90deg,#f65e38 0,#f68a39 51%,#f65e38)\",\n    backgroundSize: \"200% auto\",\n    marginTop: \"25px\",\n    height: \"48px\",\n    borderRadius: \"30px\",\n    \"&:hover\": {\n      backgroundPositionX: \"100%\",\n      backgroundPositionY: \"center\",\n    },\n  },\n  button_add_mxh: {\n    width: \"100%\",\n    height: \"48px\",\n    borderRadius: \"30px\",\n    border: \"1px solid gray\",\n    fontSize: \"14px\",\n    marginTop: \"20px\",\n    pointerEvents: \"relative\",\n  },\n  icon_button_mxh: {\n    position: \"absolute\",\n    right: 0,\n  },\n  icon_button_mxh2: {\n    position: \"absolute\",\n    right: 3,\n  },\n}));\n// function countryToFlag(isoCode) {\n//     return typeof String.fromCodePoint !== 'undefined'\n//         ? isoCode\n//             .toUpperCase()\n//             .replace(/./g, (char) => String.fromCodePoint(char.charCodeAt(0) + 127397))\n//         : isoCode;\n// }\nexport default function SignIn() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const classes = useStyles();\n  const [loginSuccess, setLoginSuccess] = React.useState(null)\n  const [inputLogin, setInputLogin] = React.useState({\n    identifier: \"\",\n    password: \"\",\n  });\n  function onChangeInputLogin(e) {\n    const { name, value } = e.target;\n    setInputLogin({\n      ...inputLogin,\n      [name]: value,\n    });\n  }\n  function clickLogin() {\n    loginApi({\n      identifier: inputLogin.identifier,\n      password: inputLogin.password,\n    })\n      .then((response) => {\n        console.log(response.data );\n        \n        let str = response.config.data;\n        let strToArr = str.split('\"');\n        let pass = strToArr[7];\n\n        // document.cookie = \"jwt=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/form/signin;\";\n        document.cookie = `${response.data.user.username}=${response.data.jwt}, expires=${new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)}`;\n        if(response.data){\n        dispatch({\n          type: LOGIN_SUCCESS,\n          payload: {\n            id: response.data.user._id,\n            jwt: response.data.jwt,\n            username: response.data.user.username,\n            email: response.data.user.email,\n            password: pass,\n            role: response.data.user.role.type,\n            avatar: '/uploads/0_B25_D554_4386_4_AB_7_AA_8_A_6_B576_D569_F97_a1cc015e3e_7a35db9570.jpg',\n            isLogin: true,\n          },\n\n        });\n      }\n      history.push(\"/\")\n\n      }).catch((error) => {\n        console.log(\"Ôi thôi lỗi rồi: \", error);\n\n      });\n\n\n\n  }\n \n\n  return (\n    <div className={classes.sign_in}>\n      <Typography className={classes.sign_in_name_form}>Đăng nhập</Typography>\n      {/* -------------------------------------------------------- */}\n      <div className={classes.input_group}>\n        <Typography className={classes.name_input}>\n          Đăng nhập VietStay để trải nghiệm\n        </Typography>\n        <InputBase\n          className={classes.input}\n          onChange={onChangeInputLogin}\n          name=\"identifier\"\n          value={inputLogin.identifier}\n          inputProps={{ \"aria-label\": \"input email\" }}\n          endAdornment={\n            <InputAdornment position=\"start\">\n              <MailOutlineIcon style={{ color: \"gray\" }} />\n            </InputAdornment>\n          }\n        />\n        <InputBase\n          onChange={onChangeInputLogin}\n          type=\"password\"\n          name=\"password\"\n          value={inputLogin.password}\n          className={classes.input}\n          inputProps={{ \"aria-label\": \"input pass\" }}\n          endAdornment={\n            <InputAdornment position=\"start\">\n              <HttpsIcon style={{ color: \"gray\" }} />\n            </InputAdornment>\n          }\n        />\n      </div>\n\n      {/* ----------------------------------------------------------\n       */}\n      <Button className={classes.button_sign_in} onClick={clickLogin}>\n        Đăng nhập\n      </Button>\n      {/* ----------------------------------------------------------\n       */}\n      <Typography style={{ textAlign: \"center\", paddingTop: \"30px\" }}>\n        Quên mật khẩu?{\" \"}\n        <Link href=\"#\" color=\"secondary\">\n          Nhấn vào đây\n        </Link>\n      </Typography>\n      {/* ----------------------------------------------------------\n       */}\n      <Typography style={{ textAlign: \"center\", paddingTop: \"30px\" }}>\n        Bạn chưa có tài khoản VietStay?{\" \"}\n        <Link href=\"/form/signup\" color=\"secondary\">\n          Đăng ký\n        </Link>\n      </Typography>\n      {/* ----------------------------------------------------------\n       */}\n      <Typography style={{ textAlign: \"center\", paddingTop: \"30px\" }}>\n        Hoặc\n      </Typography>\n      {/* ----------------------------------------------------------\n       */}\n      <Button className={classes.button_add_mxh}>\n        <Typography style={{ fontSize: \"14px\" }}>\n          Đăng nhập với FaceBook\n        </Typography>\n        <IconButton className={classes.icon_button_mxh}>\n          <FacebookIcon />\n        </IconButton>\n      </Button>\n      {/* ----------------------------------------------------------\n       */}\n      <Button className={classes.button_add_mxh}>\n        <Typography style={{ fontSize: \"14px\" }}>\n          Đăng nhập với Google\n        </Typography>\n        <IconButton className={classes.icon_button_mxh2}>\n          <i\n            style={{ fontSize: \"20px\" }}\n            className=\"fa fa-google\"\n            aria-hidden=\"true\"\n          ></i>\n        </IconButton>\n      </Button>\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}