{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Components/FeedBack/Feedback.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Typography, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Rating from '@material-ui/lab/Rating';\nimport axios from 'axios';\nimport { BASE_API } from '../../Constants/index';\nimport { BASE_URL } from '../../Constants/index';\nimport { useSelector } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport moment from 'moment';\nconst useStyles = makeStyles(theme => ({\n  large: {\n    width: theme.spacing(7),\n    height: theme.spacing(7)\n  },\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3)\n  }\n}));\n\nfunction Feedback(props) {\n  _s();\n\n  const [datasource, setDatasource] = React.useState([]);\n  const classes = useStyles();\n  const idRoom = props.roomId;\n  const idUser = useSelector(state => {\n    var _state$login;\n\n    return state === null || state === void 0 ? void 0 : (_state$login = state.login) === null || _state$login === void 0 ? void 0 : _state$login.id;\n  }); // console.log(idUser);\n\n  const [listBills, setListBills] = React.useState([]);\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/bills?_where[0][houseId]=${idRoom}&_where[1][userId]=${idUser}`).then(response => {\n      setListBills(response.data);\n    });\n  }, [idRoom, idUser]); // var bien=0;\n  // React.useEffect(() => {\n  //    bien = bien+1;\n  // }, [listBills])\n  // console.log(listBills.length);\n\n  const [comment, setComment] = React.useState({\n    commentInput: ''\n  });\n\n  function changeCmt(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    setComment({ ...comment,\n      [name]: value\n    });\n  }\n\n  function sendComment() {\n    axios.post(`${BASE_API}/comments`, {\n      idUser: idUser,\n      idRoom: idRoom,\n      content: comment.commentInput\n    }).then(response => {// console.log(response.data)\n    }).catch(error => {\n      console.log(error.message);\n    });\n    setComment({\n      commentInput: ''\n    });\n  }\n\n  const [listComment, setListComment] = React.useState([]);\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/comments?_where[0][idRoom]=${idRoom}`).then(async response => {\n      let dataFlag = [];\n      setDatasource([]);\n      setListComment(response.data);\n\n      for (let index = 0; index < response.data.length; index++) {\n        const element = response.data[index];\n        const name = await getName(element.idUser);\n        const avt = await getAvt(element.idUser);\n        dataFlag.push({ ...element,\n          username: name,\n          avt: avt\n        });\n      }\n\n      setDatasource(dataFlag);\n    });\n  }, []); // console.log(listComment)\n\n  async function getName(id) {\n    const response = await axios.get(`${BASE_API}/users/${id}`);\n    return response.data.username;\n  }\n\n  async function getAvt(id) {\n    var _response$data, _response$data$avatar;\n\n    const response = await axios.get(`${BASE_API}/users/${id}`);\n    return ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$avatar = _response$data.avatar) === null || _response$data$avatar === void 0 ? void 0 : _response$data$avatar.url) || '';\n  } // console.log(datasource)\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"\\u0110\\xE1nh gi\\xE1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), datasource.map(itemComment => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            alignSelf: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            alt: \"Avatar\",\n            src: `${BASE_URL}${itemComment.avt}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            alignSelf: \"center\",\n            marginLeft: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            style: {\n              color: 'blue',\n              fontWeight: '700',\n              fontSize: '16px'\n            },\n            children: itemComment.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            style: {\n              fontWeight: '500',\n              fontSize: '14px',\n              display: 'inline'\n            },\n            children: [itemComment.content, \" -  \", /*#__PURE__*/_jsxDEV(Typography, {\n              style: {\n                fontSize: '10px',\n                display: 'inline'\n              },\n              children: moment(itemComment.createdAt).fromNow()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 149\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this)]\n      }, itemComment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this)), (listBills === null || listBills === void 0 ? void 0 : listBills.length) != 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          style: {\n            marginTop: '15px'\n          },\n          children: \"\\u0110\\xE1nh gi\\xE1 - Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"standard-basic\",\n          label: \"\\u0110\\xE1nh gi\\xE1\",\n          variant: \"outlined\",\n          style: {\n            width: '70%'\n          },\n          name: \"commentInput\",\n          value: comment.commentInput,\n          onChange: changeCmt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 29\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 32\n        }, this), (comment === null || comment === void 0 ? void 0 : comment.commentInput.length) != 0 ? /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          style: {\n            marginTop: '10px'\n          },\n          onClick: sendComment,\n          children: \"G\\u1EEDi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Feedback, \"k3DfXuIN49X87HG2i+6rwyA/iDQ=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = Feedback;\nexport default Feedback;\n\nvar _c;\n\n$RefreshReg$(_c, \"Feedback\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Components/FeedBack/Feedback.js"],"names":["React","Typography","Avatar","makeStyles","Rating","axios","BASE_API","BASE_URL","useSelector","TextField","Button","moment","useStyles","theme","large","width","spacing","height","small","Feedback","props","datasource","setDatasource","useState","classes","idRoom","roomId","idUser","state","login","id","listBills","setListBills","useEffect","get","then","response","data","comment","setComment","commentInput","changeCmt","e","name","value","target","sendComment","post","content","catch","error","console","log","message","listComment","setListComment","dataFlag","index","length","element","getName","avt","getAvt","push","username","avatar","url","map","itemComment","display","alignSelf","marginLeft","color","fontWeight","fontSize","createdAt","fromNow","marginTop"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Typography, Avatar } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Rating from '@material-ui/lab/Rating';\nimport axios from 'axios';\nimport { BASE_API } from '../../Constants/index';\nimport { BASE_URL } from '../../Constants/index';\nimport { useSelector } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport moment from 'moment';\nconst useStyles = makeStyles((theme) => ({\n    large: {\n        width: theme.spacing(7),\n        height: theme.spacing(7),\n    },\n    small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n      },\n}));\n\nfunction Feedback(props) {\n    const [datasource, setDatasource] = React.useState([]);\n    const classes = useStyles();\n    const idRoom = props.roomId;\n    const idUser = useSelector((state) => state?.login?.id);\n    // console.log(idUser);\n    const [listBills, setListBills] = React.useState([]);\n    React.useEffect(() => {\n        axios.get(`${BASE_API}/bills?_where[0][houseId]=${idRoom}&_where[1][userId]=${idUser}`)\n            .then((response) => {\n                setListBills(response.data);\n            })\n    }, [idRoom, idUser])\n    // var bien=0;\n    // React.useEffect(() => {\n    //    bien = bien+1;\n    // }, [listBills])\n    // console.log(listBills.length);\n    const [comment, setComment] = React.useState({\n        commentInput: ''\n    });\n    function changeCmt(e) {\n        const { name, value } = e.target;\n        setComment({ ...comment, [name]: value });\n    }\n    function sendComment() {\n        axios.post(`${BASE_API}/comments`, {\n            idUser: idUser,\n            idRoom: idRoom,\n            content: comment.commentInput,\n        })\n            .then((response) => {\n                // console.log(response.data)\n            })\n            .catch((error) => {\n                console.log(error.message)\n            })\n        setComment({ commentInput: '' })\n\n\n    }\n    const [listComment, setListComment] = React.useState([]);\n    React.useEffect(() => {\n        axios.get(`${BASE_API}/comments?_where[0][idRoom]=${idRoom}`)\n            .then(async (response) => {\n                let dataFlag = [];\n                setDatasource([]);\n                setListComment(response.data);\n                for (let index = 0; index < response.data.length; index++) {\n                    const element = response.data[index];\n                    const name = await getName(element.idUser)\n                    const avt = await getAvt(element.idUser)\n                    dataFlag.push({...element, username: name , avt: avt})\n                }\n                setDatasource(dataFlag);\n            })\n    },[])\n    // console.log(listComment)\n    async function getName(id){\n      const response = await axios.get(`${BASE_API}/users/${id}`)\n       \n        return response.data.username;\n        \n    }\n    async function getAvt(id){\n      const response = await axios.get(`${BASE_API}/users/${id}`)\n       \n      return response.data?.avatar?.url || '';\n\n        \n    }\n    // console.log(datasource)\n   \n    return (\n        <>\n            <div>\n                <Typography variant=\"h5\" gutterBottom>\n                    Đánh giá\n                            </Typography>\n                {datasource.map((itemComment) => \n                    <div key={itemComment.id} style={{ display: \"flex\" }}>\n                        <div style={{ alignSelf: \"center\" }}>\n                            <Avatar alt=\"Avatar\" src={`${BASE_URL}${itemComment.avt}`} />\n                        </div>\n                        <div style={{ alignSelf: \"center\", marginLeft: 10 }}>\n                            <Typography variant=\"subtitle1\" style={{color:'blue', fontWeight:'700', fontSize:'16px'}}>{itemComment.username}</Typography>\n                            {/* <Typography variant=\"subtitle1\" >{itemComment.idUser}</Typography> */}\n                            <Typography variant=\"subtitle1\" style={{ fontWeight:'500', fontSize:'14px', display:'inline'}}>{itemComment.content} -  <Typography style={{ fontSize:'10px', display:'inline'}}>{moment(itemComment.createdAt).fromNow() }</Typography></Typography>\n                        </div>\n                        <div >\n                       \n\n                        </div>\n                    </div>\n                )\n                }\n\n                {(listBills?.length != 0\n                    ?\n                    (\n                        <div>\n                            <Typography variant=\"h5\" gutterBottom style={{ marginTop: '15px' }}>\n                                Đánh giá - Comment\n                            </Typography>\n\n                            <TextField\n                                id=\"standard-basic\"\n                                label=\"Đánh giá\"\n                                variant=\"outlined\"\n                                style={{ width: '70%' }}\n                                name=\"commentInput\"\n                                value={comment.commentInput}\n                                onChange={changeCmt}\n                            /> <br />\n                            {comment?.commentInput.length != 0 ?\n                                <Button variant=\"contained\" style={{ marginTop: '10px' }} onClick={sendComment}>Gửi</Button>\n                                : null\n                            }\n                        </div>\n\n\n                    ) : null)}\n            </div >\n        </>\n    )\n}\n\n\n\nexport default Feedback"]},"metadata":{},"sourceType":"module"}