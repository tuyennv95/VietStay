{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Components/ShowRoom/RoomItem.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './styles.css';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles'; // import InputLabel from '@material-ui/core/InputLabel';\n// import FormHelperText from '@material-ui/core/FormHelperText';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport Box from '@material-ui/core/Box';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea'; // import CardActions from '@material-ui/core/CardActions';\n\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia'; // import Button from '@material-ui/core/Button';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs'; // import StarIcon from '@material-ui/icons/Star';\n// import StarHalfIcon from '@material-ui/icons/StarHalf';\n\nimport Rating from '@material-ui/lab/Rating';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { BASE_URL } from '../../Constants/index';\nimport { BASE_API } from '../../Constants/index';\nimport * as axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport slug from 'slug';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { isLogin } from 'utils/index';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { checkRole } from 'utils/index';\nconst useStyles = makeStyles(theme => ({\n  details_room: {\n    [theme.breakpoints.up('1180')]: {\n      maxWidth: '19%' // maxHeight: ''\n\n    },\n    [theme.breakpoints.down('1180')]: {\n      maxWidth: '24%'\n    },\n    [theme.breakpoints.down('960')]: {\n      maxWidth: '50%'\n    },\n    marginTop: '25px',\n    position: 'relative'\n  },\n  hotBook: {\n    position: 'absolute',\n    zIndex: 999,\n    width: '30px',\n    height: '25px',\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(255, 140, 0,0.9)',\n    '&::after': {\n      content: '\"\"',\n      position: 'absolute',\n      left: 0,\n      bottom: '-6px',\n      borderWidth: '0 15px 6px',\n      borderStyle: 'solid',\n      borderColor: 'transparent rgba(255, 140, 0,0.9) transparent rgba(255, 140, 0,0.9)'\n    }\n  },\n  species_room: {\n    color: '#888888',\n    fontWeight: '700'\n  },\n  room_link_detail: {\n    display: 'flex'\n  },\n  name_room: {\n    color: '#222',\n    fontSize: '16px',\n    lineHeight: '24px',\n    fontWeight: '900',\n    maxHeight: '52px',\n    display: 'block -webkit-box',\n    '-webkit-line-clamp': 2,\n    '-webkit-box-orient': 'vertical',\n    // display: '-webkit-box',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    '&:hover': {\n      color: '#f65e39',\n      textDecoration: 'none'\n    }\n  },\n  room_icon_fast: {\n    fontSize: '20px',\n    padding: '1px',\n    backgroundColor: '#f65e39',\n    borderRadius: '50%',\n    display: 'inline-block',\n    color: '#ffffff',\n    marginRight: '5px'\n  },\n  room_price: {\n    color: '#222222',\n    fontSize: '14px',\n    lineHeight: '21px',\n    fontWeight: '900',\n    paddingTop: '5px'\n  },\n  room_location: {\n    color: '#222222',\n    fontSize: '14px',\n    lineHeight: '21px',\n    fontWeight: '500'\n  },\n  room_vote_start: {\n    color: '#FFB025',\n    fontSize: '14px',\n    lineHeight: '21px'\n  },\n  link_to_house_item: {\n    color: '#2b2626',\n    '&:hover': {\n      color: 'ff0000'\n    }\n  }\n}));\nexport default function RoomItem({\n  item\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [lengthBill, setLengthBill] = React.useState(0);\n  const [tinh, setTinh] = React.useState();\n  const [quan, setQuan] = React.useState();\n  const history = useHistory();\n  const slugUrl = slug(item.house_name, {\n    lower: false,\n    locale: 'vi',\n    replacement: '-'\n  });\n  const idUser = useSelector(state => state.login.id);\n  const [type, setType] = React.useState();\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/type-rooms/${item.id_typehouse}`).then(response => {\n      // console.log(response.data)\n      setType(response.data.name);\n    });\n  }, []);\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/districts?district_id=${item.districts_id}`).then(response => {\n      setQuan(response.data[0].district_name);\n    });\n  }, []);\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/provinces?province_id=${item.provinces_id}`).then(response => {\n      setTinh(response.data[0].province_name);\n    });\n  }, []);\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/bills?houseId=${item === null || item === void 0 ? void 0 : item.id}`).then(res => {\n      setLengthBill(res.data.length);\n    });\n  }, []);\n  const [love, setLove] = React.useState(false); // const [listLove, setListLove] = React.useState(null);\n\n  const listLove1 = useSelector(state => state.love); // console.log(listLove1)\n\n  React.useEffect(() => {\n    for (let i = 0; i < listLove1.length; i++) {\n      const element = listLove1[i];\n\n      if (element === item.id) {\n        setLove(true); // console.log(element, item.id)\n      }\n    }\n  }, [listLove1]); // React.useEffect(() => {\n  // }, [love])\n\n  const id = item === null || item === void 0 ? void 0 : item.id; // console.log(id)\n\n  const dispatch = useDispatch();\n\n  function onChangeLove() {\n    // console.log(item?.id);\n    setLove(false);\n    dispatch({\n      type: \"UNLOVE\",\n      payload: id\n    });\n  }\n\n  function onChangeUnLove() {\n    if (isLogin()) {\n      console.log(id);\n      dispatch({\n        type: \"LOVE\",\n        payload: id\n      });\n    } else {\n      history.push(\"/form/signin\");\n    }\n  }\n\n  console.log(checkRole());\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: classes.details_room,\n      children: [lengthBill >= 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.hotBook,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: 'rgba(255, 0, 0,0.5)',\n            fontSize: '15px'\n          },\n          children: \"TOP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }, this) : null, love && love ? /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n        onClick: onChangeLove,\n        style: {\n          position: 'absolute',\n          zIndex: '999',\n          top: '8px',\n          right: '10px',\n          cursor: \"pointer\",\n          color: 'red',\n          fontSize: '26px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {\n        onClick: onChangeUnLove,\n        style: {\n          position: 'absolute',\n          zIndex: '999',\n          top: '8px',\n          right: '10px',\n          cursor: \"pointer\",\n          color: 'gray',\n          fontSize: '26px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(CardActionArea, {\n        children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n          component: \"img\",\n          alt: item.house_name,\n          height: \"140\",\n          image: `${BASE_URL}${item.img_avatar_house.url}` // title={}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            gutterBottom: true,\n            variant: \"overline\",\n            className: classes.species_room,\n            children: type\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.name_room,\n            children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n              title: \"\\u0110\\u1EB7t ph\\xF2ng ngay kh\\xF4ng c\\u1EA7n ch\\u1EE7 nh\\xE0 ph\\xEA duy\\u1EC7t\",\n              children: /*#__PURE__*/_jsxDEV(FlashOnIcon, {\n                className: classes.room_icon_fast\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/room/${slugUrl}.${item._id}`,\n              className: classes.link_to_house_item,\n              children: item.house_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [item.people_max, \" kh\\xE1ch \\xB7 \", item.number_of_bedroom, \" ph\\xF2ng ng\\u1EE7 \\xB7 \", item.number_of_bathroom, \" ph\\xF2ng t\\u1EAFm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.room_price,\n            children: [new Intl.NumberFormat('vn-VN', {\n              style: 'currency',\n              currency: 'VND'\n            }).format(item.price), \"/\\u0111\\xEAm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n            separator: \"\\u203A\",\n            \"aria-label\": \"breadcrumb\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/districts/${item === null || item === void 0 ? void 0 : item.districts_id}`,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.room_location,\n                children: quan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/provinces/${item === null || item === void 0 ? void 0 : item.provinces_id}`,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.room_location,\n                children: tinh\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/show\",\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.room_location,\n                children: \"Vi\\u1EC7t Nam\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RoomItem, \"wMoAINF23jj83E4+mTaR5jZie8s=\", false, function () {\n  return [useStyles, useHistory, useSelector, useSelector, useDispatch];\n});\n\n_c = RoomItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"RoomItem\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Components/ShowRoom/RoomItem.js"],"names":["React","Grid","Typography","makeStyles","FormControl","NativeSelect","Box","FlashOnIcon","Card","CardActionArea","CardContent","CardMedia","Tooltip","Breadcrumbs","Rating","Pagination","BASE_URL","BASE_API","axios","Link","slug","FavoriteBorderIcon","isLogin","FavoriteIcon","useSelector","useDispatch","useHistory","checkRole","useStyles","theme","details_room","breakpoints","up","maxWidth","down","marginTop","position","hotBook","zIndex","width","height","top","left","backgroundColor","content","bottom","borderWidth","borderStyle","borderColor","species_room","color","fontWeight","room_link_detail","display","name_room","fontSize","lineHeight","maxHeight","overflow","textOverflow","textDecoration","room_icon_fast","padding","borderRadius","marginRight","room_price","paddingTop","room_location","room_vote_start","link_to_house_item","RoomItem","item","classes","lengthBill","setLengthBill","useState","tinh","setTinh","quan","setQuan","history","slugUrl","house_name","lower","locale","replacement","idUser","state","login","id","type","setType","useEffect","get","id_typehouse","then","response","data","name","districts_id","district_name","provinces_id","province_name","res","length","love","setLove","listLove1","i","element","dispatch","onChangeLove","payload","onChangeUnLove","console","log","push","right","cursor","img_avatar_house","url","_id","people_max","number_of_bedroom","number_of_bathroom","Intl","NumberFormat","style","currency","format","price"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './styles.css';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n// import InputLabel from '@material-ui/core/InputLabel';\n// import FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport Box from '@material-ui/core/Box';\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\n// import CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\n// import Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\n// import StarIcon from '@material-ui/icons/Star';\n// import StarHalfIcon from '@material-ui/icons/StarHalf';\nimport Rating from '@material-ui/lab/Rating';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { BASE_URL } from '../../Constants/index';\nimport { BASE_API } from '../../Constants/index';\nimport * as axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport slug from 'slug';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { isLogin } from 'utils/index';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { checkRole } from 'utils/index';\n\n\nconst useStyles = makeStyles((theme) => ({\n    details_room: {\n\n        [theme.breakpoints.up('1180')]: {\n            maxWidth: '19%',\n            // maxHeight: ''\n\n        },\n        [theme.breakpoints.down('1180')]: {\n            maxWidth: '24%',\n\n        },\n        [theme.breakpoints.down('960')]: {\n            maxWidth: '50%',\n\n        },\n        marginTop: '25px',\n        position: 'relative',\n\n    },\n    hotBook: {\n        position: 'absolute',\n        zIndex: 999,\n        width: '30px',\n        height: '25px',\n        top: 0,\n        left: 0,\n        backgroundColor: 'rgba(255, 140, 0,0.9)',\n        '&::after': {\n            content: '\"\"',\n            position: 'absolute',\n            left: 0,\n            bottom: '-6px',\n            borderWidth: '0 15px 6px',\n            borderStyle: 'solid',\n            borderColor: 'transparent rgba(255, 140, 0,0.9) transparent rgba(255, 140, 0,0.9)',\n        }\n\n    },\n    species_room: {\n        color: '#888888',\n        fontWeight: '700',\n    },\n    room_link_detail: {\n        display: 'flex',\n    },\n    name_room: {\n        color: '#222',\n        fontSize: '16px',\n        lineHeight: '24px',\n        fontWeight: '900',\n        maxHeight: '52px',\n        display: 'block -webkit-box',\n        '-webkit-line-clamp': 2,\n        '-webkit-box-orient': 'vertical',\n\n        // display: '-webkit-box',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        '&:hover': {\n            color: '#f65e39',\n            textDecoration: 'none',\n\n        }\n    },\n    room_icon_fast: {\n        fontSize: '20px',\n        padding: '1px',\n        backgroundColor: '#f65e39',\n        borderRadius: '50%',\n        display: 'inline-block',\n        color: '#ffffff',\n        marginRight: '5px',\n    },\n    room_price: {\n        color: '#222222',\n        fontSize: '14px',\n        lineHeight: '21px',\n        fontWeight: '900',\n        paddingTop: '5px',\n    },\n    room_location: {\n        color: '#222222',\n        fontSize: '14px',\n        lineHeight: '21px',\n        fontWeight: '500',\n    },\n    room_vote_start: {\n        color: '#FFB025',\n        fontSize: '14px',\n        lineHeight: '21px',\n    },\n    link_to_house_item: {\n        color: '#2b2626',\n        '&:hover': {\n            color: 'ff0000',\n        }\n    }\n\n\n}));\n\nexport default function RoomItem({ item }) {\n    const classes = useStyles();\n    const [lengthBill, setLengthBill] = React.useState(0);\n    const [tinh, setTinh] = React.useState();\n    const [quan, setQuan] = React.useState();\n\n    const history = useHistory();\n\n\n\n    const slugUrl = slug(item.house_name, { lower: false, locale: 'vi', replacement: '-', });\n    const idUser = useSelector((state) => state.login.id);\n    const [type, setType] = React.useState();\n    React.useEffect(() => {\n        axios.get(`${BASE_API}/type-rooms/${item.id_typehouse}`)\n            .then((response) => {\n                // console.log(response.data)\n                setType(response.data.name)\n            })\n    }, [])\n    React.useEffect(() => {\n        axios.get(`${BASE_API}/districts?district_id=${item.districts_id}`)\n            .then((response) => {\n                setQuan(response.data[0].district_name)\n\n            })\n    }, [])\n    React.useEffect(() => {\n        axios.get(`${BASE_API}/provinces?province_id=${item.provinces_id}`)\n            .then((response) => {\n                setTinh(response.data[0].province_name)\n\n            })\n\n    }, [])\n    React.useEffect(() => {\n        axios.get(`${BASE_API}/bills?houseId=${item?.id}`)\n            .then((res) => {\n                setLengthBill(res.data.length)\n            })\n    }, [])\n\n\n\n    const [love, setLove] = React.useState(false);\n    // const [listLove, setListLove] = React.useState(null);\n    const listLove1 = useSelector((state) => state.love);\n    // console.log(listLove1)\n    React.useEffect(() => {\n        for (let i = 0; i < listLove1.length; i++) {\n            const element = listLove1[i];\n            if (element === item.id) {\n                setLove(true);\n                // console.log(element, item.id)\n            }\n\n        }\n    }, [listLove1])\n\n\n\n    // React.useEffect(() => {\n\n    // }, [love])\n    const id = item?.id;\n    // console.log(id)\n    const dispatch = useDispatch();\n    function onChangeLove() {\n        // console.log(item?.id);\n        setLove(false)\n        dispatch({\n            type: \"UNLOVE\",\n            payload: id,\n        })\n\n\n\n\n    }\n    function onChangeUnLove() {\n        if (isLogin()) {\n            console.log(id)\n            dispatch({\n                type: \"LOVE\",\n                payload: id,\n            })\n        }\n        else {\n            history.push(\"/form/signin\")\n        }\n\n\n\n    }\n    console.log(checkRole())\n    return (\n        <React.Fragment >\n\n            <Card className={classes.details_room} >\n                {lengthBill >= 1\n                    ?\n                    <div className={classes.hotBook}>\n                        <h3 style={{ color: 'rgba(255, 0, 0,0.5)', fontSize: '15px' }}>TOP</h3>\n                    </div>\n                    : null\n                }\n                {love && love ?\n                    <FavoriteIcon onClick={onChangeLove} style={{ position: 'absolute', zIndex: '999', top: '8px', right: '10px', cursor: \"pointer\", color: 'red', fontSize: '26px' }} />\n                    :\n                    <FavoriteBorderIcon onClick={onChangeUnLove} style={{ position: 'absolute', zIndex: '999', top: '8px', right: '10px', cursor: \"pointer\", color: 'gray', fontSize: '26px' }} />\n\n                }\n\n\n                <CardActionArea >\n\n                    <CardMedia\n                        component=\"img\"\n                        alt={item.house_name}\n                        height=\"140\"\n                        image={`${BASE_URL}${item.img_avatar_house.url}`}\n                    // title={}\n                    />\n                    <CardContent>\n                        <Typography gutterBottom variant=\"overline\" className={classes.species_room}>\n                            {/* {item.house_type === \"CanHoChungCu\"\n                                ? \"Căn Hộ Chung Cư\"\n                                : (item.house_type === \"BietThu\"\n                                    ? \"Biệt Thự\"\n                                    : (item.house_type === \"CanHoStudio\"\n                                        ? \"Căn Hộ Studio\"\n                                        : (item.house_type === \"NhaRieng\"\n                                            ? \"Nhà Riêng\"\n                                            : (item.house_type === \"HomeStay\"\n                                                ? \"HomeStay\"\n                                                : (item.house_type === \"Khac\"\n                                                    ? \"Khách Sạn && Nhà Nghỉ\" : null)))))\n                            } */}\n                            {type}\n                        </Typography>\n\n                        <div className={classes.name_room}>\n                            <Tooltip title=\"Đặt phòng ngay không cần chủ nhà phê duyệt\">\n                                <FlashOnIcon className={classes.room_icon_fast} />\n                            </Tooltip>\n                            <Link to={`/room/${slugUrl}.${item._id}`} className={classes.link_to_house_item}>\n                                {item.house_name}\n                            </Link>\n                        </div>\n\n                        <Typography variant=\"body2\">\n                            {item.people_max} khách · {item.number_of_bedroom} phòng ngủ · {item.number_of_bathroom} phòng tắm\n                                     </Typography>\n                        <Typography className={classes.room_price}>\n                            {new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(item.price)}/đêm\n                        </Typography>\n\n                        {/* {checkRole() === 1 */}\n                            \n                            <Breadcrumbs separator=\"›\" aria-label=\"breadcrumb\">\n\n                                <Link to={`/districts/${item?.districts_id}`} >\n                                    <Typography className={classes.room_location}>\n                                        {quan}\n                                    </Typography>\n                                </Link>\n                                <Link to={`/provinces/${item?.provinces_id}`} >\n                                    <Typography className={classes.room_location}>\n                                        {tinh}\n\n                                    </Typography>\n                                </Link>\n                                <Link\n                                    to=\"/show\"\n                                >\n                                    <Typography className={classes.room_location}>\n                                        Việt Nam\n                                    </Typography>\n                                </Link>\n                            </Breadcrumbs>\n                            \n                            {/* null} */}\n                        {/* <Rating name=\"half-rating\" defaultValue={2.5} precision={0.5} /> */}\n                        {/* <Rating name=\"half-rating-read\" defaultValue={2.5} precision={0.5} readOnly size=\"small\" /> */}\n\n\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n\n\n\n\n\n\n\n        </React.Fragment >\n\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}