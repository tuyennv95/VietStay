{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Components/MyBooking/MyBooking.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport ShowRoomMyBooking from './ShowRoomMyBooking';\nimport { Grid, TextField, Box } from '@material-ui/core';\nimport './styles.css';\nimport axios from 'axios';\nimport { BASE_API } from '../../Constants/index';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\nconst useStyles = makeStyles(theme => ({\n  my_booking_select: {\n    margin: 'auto',\n    border: 'none',\n    outline: 'none',\n    marginLeft: '15px',\n    marginTop: '25px',\n    padding: '0!important'\n  },\n  my_booking_select_status: {\n    width: '200px',\n    height: '100px',\n    borderRadius: '15px',\n    border: '1px solid #e2dede',\n    backgroundColor: '#FFFFFF'\n  },\n  my_booking_select_month: {\n    width: '400px',\n    height: '100px',\n    borderRadius: '15px',\n    border: '1px solid #e2dede',\n    backgroundColor: '#FFFFFF'\n  },\n  my_booking_select_date_month: {\n    marginTop: '20px',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  my_booking_select_date_month_startDate: {\n    border: 'none',\n    paddingLeft: '35px',\n    '&:focus': {\n      outline: 'none'\n    }\n  },\n  my_booking_select_date_month_endDate: {\n    border: 'none',\n    paddingLeft: '35px',\n    '&:focus': {\n      outline: 'none'\n    }\n  }\n}));\nexport default function MyBooking() {\n  _s();\n\n  const classes = useStyles(); // const [state, setState] = React.useState({\n  // });\n\n  const top = [{\n    id: '4',\n    title: 'Tất cả đặt chỗ'\n  }, {\n    id: '2',\n    title: 'Đã thanh toán'\n  }, {\n    id: '1',\n    title: 'Chưa thanh toán'\n  }, {\n    id: '3',\n    title: 'Chờ Hủy'\n  }, {\n    id: '0',\n    title: 'Hủy'\n  }]; // const handleChange = (event) => {\n  //   const name = event.target.name;\n  //   setState({\n  //     ...state,\n  //     [name]: event.target.value,\n  //   });\n  //   console.log(event.target.value)\n  // };\n  // ----------------------------------\n  // const thang = new Date().getMonth();\n\n  const [startDate, setStartDate] = useState(new Date('01-01-2021'));\n  const [endDate, setEndDate] = useState(new Date());\n  const [bills, setBills] = React.useState();\n  const [id, setId] = React.useState(4);\n  const userId = useSelector(state => state.login.id); // console.log(userId)\n\n  React.useEffect(() => {\n    axios.get(`${BASE_API}/bills?userId=${userId}&${id == 4 ? '' : `statusPayment=${id}`}`).then(rep => {\n      setBills(rep.data);\n      const data = rep === null || rep === void 0 ? void 0 : rep.data.filter(item => moment(item.createdAt).isBetween(startDate, endDate, 'month', '[]') === true);\n      setBills(data);\n    }).catch(err => {\n      console.log(\"loi\");\n    });\n  }, [id, startDate, endDate]); // console.log(startDate, endDate)\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: bills && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#F8F8F8',\n        width: '100%',\n        maxWidth: '1200px',\n        minHeight: '100vh',\n        height: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.my_booking_select_status,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              variant: \"standard\",\n              className: classes.my_booking_select,\n              children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n                getOptionSelected: (option, value) => option.id === value.id //  defaultValue={0}\n                // value={val}\n                ,\n                disableClearable: true,\n                id: \"combo-box-demo\",\n                options: top,\n                getOptionLabel: option => option.title,\n                style: {\n                  width: 170\n                },\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 42\n                }, this) // value={value}\n                ,\n                onChange: (event, newValue) => {\n                  if (newValue) {\n                    setId(newValue.id);\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 9,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.my_booking_select_month,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.my_booking_select_date_month,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"startDate\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  style: {\n                    color: 'gray',\n                    paddingLeft: '20px'\n                  },\n                  children: \"T\\u1EEB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                  className: classes.my_booking_select_date_month_startDate,\n                  selected: startDate,\n                  onChange: date => setStartDate(date),\n                  selectsStart: true,\n                  startDate: startDate,\n                  endDate: endDate,\n                  dateFormat: \"MM/yyyy\",\n                  showMonthYearPicker: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"endDate\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  style: {\n                    color: 'gray',\n                    paddingLeft: '20px'\n                  },\n                  children: \"\\u0111\\u1EBFn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                  className: classes.my_booking_select_date_month_endDate,\n                  selected: endDate,\n                  onChange: date => setEndDate(date),\n                  selectsEnd: true,\n                  startDate: startDate,\n                  endDate: endDate,\n                  dateFormat: \"MM/yyyy\",\n                  showMonthYearPicker: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        light: true,\n        style: {\n          marginTop: '50px',\n          marginBottom: '50px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 7\n      }, this), bills.map(bill => /*#__PURE__*/_jsxDEV(ShowRoomMyBooking, {\n        item: bill\n      }, bill._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }, this) || null\n  }, void 0, false);\n}\n\n_s(MyBooking, \"5c86s7GWFlZECy72dnVKXjB9VCE=\", false, function () {\n  return [useStyles, useSelector];\n});\n\n_c = MyBooking;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyBooking\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Components/MyBooking/MyBooking.js"],"names":["React","useState","makeStyles","Autocomplete","FormControl","Typography","Divider","DatePicker","ShowRoomMyBooking","Grid","TextField","Box","axios","BASE_API","useSelector","moment","useStyles","theme","my_booking_select","margin","border","outline","marginLeft","marginTop","padding","my_booking_select_status","width","height","borderRadius","backgroundColor","my_booking_select_month","my_booking_select_date_month","display","justifyContent","my_booking_select_date_month_startDate","paddingLeft","my_booking_select_date_month_endDate","MyBooking","classes","top","id","title","startDate","setStartDate","Date","endDate","setEndDate","bills","setBills","setId","userId","state","login","useEffect","get","then","rep","data","filter","item","createdAt","isBetween","catch","err","console","log","maxWidth","minHeight","option","value","params","event","newValue","color","date","marginBottom","map","bill","_id"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAO,4CAAP;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,QAAqC,mBAArC;AACA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,uBAAvB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,MAAMC,SAAS,GAAGd,UAAU,CAAEe,KAAD,KAAY;AACvCC,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,MAAM,EAAE,MADS;AAEjBC,IAAAA,MAAM,EAAE,MAFS;AAGjBC,IAAAA,OAAO,EAAE,MAHQ;AAIjBC,IAAAA,UAAU,EAAE,MAJK;AAKjBC,IAAAA,SAAS,EAAE,MALM;AAMjBC,IAAAA,OAAO,EAAE;AANQ,GADoB;AASvCC,EAAAA,wBAAwB,EAAE;AACxBC,IAAAA,KAAK,EAAE,OADiB;AAExBC,IAAAA,MAAM,EAAE,OAFgB;AAGxBC,IAAAA,YAAY,EAAE,MAHU;AAIxBR,IAAAA,MAAM,EAAE,mBAJgB;AAKxBS,IAAAA,eAAe,EAAE;AALO,GATa;AAkBvCC,EAAAA,uBAAuB,EAAE;AACvBJ,IAAAA,KAAK,EAAE,OADgB;AAEvBC,IAAAA,MAAM,EAAE,OAFe;AAGvBC,IAAAA,YAAY,EAAE,MAHS;AAIvBR,IAAAA,MAAM,EAAE,mBAJe;AAKvBS,IAAAA,eAAe,EAAE;AALM,GAlBc;AAyBvCE,EAAAA,4BAA4B,EAAC;AAC3BR,IAAAA,SAAS,EAAC,MADiB;AAE3BS,IAAAA,OAAO,EAAC,MAFmB;AAG3BC,IAAAA,cAAc,EAAC;AAHY,GAzBU;AA8BvCC,EAAAA,sCAAsC,EAAC;AACrCd,IAAAA,MAAM,EAAC,MAD8B;AAErCe,IAAAA,WAAW,EAAC,MAFyB;AAGrC,eAAU;AACRd,MAAAA,OAAO,EAAC;AADA;AAH2B,GA9BA;AAqCvCe,EAAAA,oCAAoC,EAAC;AACnChB,IAAAA,MAAM,EAAC,MAD4B;AAEnCe,IAAAA,WAAW,EAAC,MAFuB;AAInC,eAAU;AACRd,MAAAA,OAAO,EAAC;AADA;AAJyB;AArCE,CAAZ,CAAD,CAA5B;AAgDA,eAAe,SAASgB,SAAT,GAAqB;AAAA;;AAClC,QAAMC,OAAO,GAAGtB,SAAS,EAAzB,CADkC,CAElC;AAEA;;AACA,QAAMuB,GAAG,GAAG,CACV;AAAEC,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GADU,EAEV;AAAED,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GAFU,EAGV;AAAED,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GAHU,EAIV;AAAED,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GAJU,EAKV;AAAED,IAAAA,EAAE,EAAE,GAAN;AAAWC,IAAAA,KAAK,EAAE;AAAlB,GALU,CAAZ,CALkC,CAclC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B1C,QAAQ,CAAC,IAAI2C,IAAJ,CAAS,YAAT,CAAD,CAA1C;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB7C,QAAQ,CAAC,IAAI2C,IAAJ,EAAD,CAAtC;AACA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBhD,KAAK,CAACC,QAAN,EAA1B;AACA,QAAM,CAACuC,EAAD,EAAKS,KAAL,IAAcjD,KAAK,CAACC,QAAN,CAAe,CAAf,CAApB;AAEA,QAAMiD,MAAM,GAAGpC,WAAW,CAAEqC,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYZ,EAAxB,CAA1B,CA9BkC,CA+BlC;;AACAxC,EAAAA,KAAK,CAACqD,SAAN,CAAgB,MAAI;AAClBzC,IAAAA,KAAK,CAAC0C,GAAN,CAAW,GAAEzC,QAAS,iBAAgBqC,MAAO,IAAGV,EAAE,IAAG,CAAL,GAAS,EAAT,GAAe,iBAAgBA,EAAG,EAAE,EAApF,EACCe,IADD,CACOC,GAAD,IAAO;AACXR,MAAAA,QAAQ,CAACQ,GAAG,CAACC,IAAL,CAAR;AACA,YAAMA,IAAI,GAAGD,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEC,IAAL,CAAUC,MAAV,CAAkBC,IAAD,IAAU5C,MAAM,CAAC4C,IAAI,CAACC,SAAN,CAAN,CAAuBC,SAAvB,CAAiCnB,SAAjC,EAA4CG,OAA5C,EAAqD,OAArD,EAA8D,IAA9D,MAAwE,IAAnG,CAAb;AACAG,MAAAA,QAAQ,CAACS,IAAD,CAAR;AACD,KALD,EAMCK,KAND,CAMQC,GAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACD,KARD;AASD,GAVD,EAUG,CAACzB,EAAD,EAAIE,SAAJ,EAAcG,OAAd,CAVH,EAhCkC,CA6ClC;;AAEA,sBACE;AAAA,cACGE,KAAK,iBACR;AAAK,MAAA,KAAK,EAAE;AAAElB,QAAAA,eAAe,EAAE,SAAnB;AAA8BH,QAAAA,KAAK,EAAC,MAApC;AAA4CwC,QAAAA,QAAQ,EAAC,QAArD;AAA8DC,QAAAA,SAAS,EAAC,OAAxE;AAAiFxC,QAAAA,MAAM,EAAC;AAAxF,OAAZ;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAA,gCACE,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,CAAf;AAAkB,UAAA,EAAE,EAAE,EAAtB;AAA0B,UAAA,EAAE,EAAE,EAA9B;AAAA,iCACE,QAAC,GAAD;AAAK,YAAA,SAAS,EAAEW,OAAO,CAACb,wBAAxB;AAAA,mCACE,QAAC,WAAD;AAAa,cAAA,OAAO,EAAC,UAArB;AAAgC,cAAA,SAAS,EAAEa,OAAO,CAACpB,iBAAnD;AAAA,qCACE,QAAC,YAAD;AACC,gBAAA,iBAAiB,EAAE,CAACkD,MAAD,EAASC,KAAT,KAAmBD,MAAM,CAAC5B,EAAP,KAAc6B,KAAK,CAAC7B,EAD3D,CAEA;AACE;AAHF;AAIE,gBAAA,gBAAgB,EAAE,IAJpB;AAKE,gBAAA,EAAE,EAAC,gBALL;AAME,gBAAA,OAAO,EAAED,GANX;AAOE,gBAAA,cAAc,EAAG6B,MAAD,IAAYA,MAAM,CAAC3B,KAPrC;AAQE,gBAAA,KAAK,EAAE;AAAEf,kBAAAA,KAAK,EAAE;AAAT,iBART;AASE,gBAAA,WAAW,EAAG4C,MAAD,iBAAY,QAAC,SAAD,OAAgBA;AAAhB;AAAA;AAAA;AAAA;AAAA,wBAT3B,CAUE;AAVF;AAWE,gBAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC7B,sBAAIA,QAAJ,EAAc;AACZvB,oBAAAA,KAAK,CAACuB,QAAQ,CAAChC,EAAV,CAAL;AACD;AACF;AAfH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAwBE,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,CAAf;AAAkB,UAAA,EAAE,EAAE,EAAtB;AAA0B,UAAA,EAAE,EAAE,EAA9B;AAAA,iCACE,QAAC,GAAD;AAAK,YAAA,SAAS,EAAEF,OAAO,CAACR,uBAAxB;AAAA,mCACE;AAAK,cAAA,SAAS,EAAEQ,OAAO,CAACP,4BAAxB;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,wCACE,QAAC,UAAD;AAAY,kBAAA,KAAK,EAAE;AAAC0C,oBAAAA,KAAK,EAAC,MAAP;AAAetC,oBAAAA,WAAW,EAAC;AAA3B,mBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAGA,QAAC,UAAD;AACE,kBAAA,SAAS,EAAEG,OAAO,CAACJ,sCADrB;AAEE,kBAAA,QAAQ,EAAEQ,SAFZ;AAGE,kBAAA,QAAQ,EAAEgC,IAAI,IAAI/B,YAAY,CAAC+B,IAAD,CAHhC;AAIE,kBAAA,YAAY,MAJd;AAKE,kBAAA,SAAS,EACLhC,SANN;AAQE,kBAAA,OAAO,EAAEG,OARX;AASE,kBAAA,UAAU,EAAC,SATb;AAUE,kBAAA,mBAAmB;AAVrB;AAAA;AAAA;AAAA;AAAA,wBAHA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAkBE;AAAK,gBAAA,SAAS,EAAC,SAAf;AAAA,wCACA,QAAC,UAAD;AAAY,kBAAA,KAAK,EAAE;AAAC4B,oBAAAA,KAAK,EAAC,MAAP;AAAetC,oBAAAA,WAAW,EAAC;AAA3B,mBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,eAIA,QAAC,UAAD;AACE,kBAAA,SAAS,EAAEG,OAAO,CAACF,oCADrB;AAGE,kBAAA,QAAQ,EAAES,OAHZ;AAIE,kBAAA,QAAQ,EAAE6B,IAAI,IAAI5B,UAAU,CAAC4B,IAAD,CAJ9B;AAKE,kBAAA,UAAU,MALZ;AAME,kBAAA,SAAS,EACPhC,SAPJ;AASE,kBAAA,OAAO,EAAEG,OATX;AAUE,kBAAA,UAAU,EAAC,SAVb;AAWE,kBAAA,mBAAmB;AAXrB;AAAA;AAAA;AAAA;AAAA,wBAJA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAsEE,QAAC,OAAD;AAAS,QAAA,KAAK,MAAd;AAAe,QAAA,KAAK,EAAE;AAACtB,UAAAA,SAAS,EAAC,MAAX;AAAmBoD,UAAAA,YAAY,EAAE;AAAjC;AAAtB;AAAA;AAAA;AAAA;AAAA,cAtEF,EAwEI5B,KAAK,CAAC6B,GAAN,CAAWC,IAAD,iBAER,QAAC,iBAAD;AAAkC,QAAA,IAAI,EAAEA;AAAxC,SAAwBA,IAAI,CAACC,GAA7B;AAAA;AAAA;AAAA;AAAA,cAFF,CAxEJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADG,IAkFE;AAnFL,mBADF;AAuFD;;GAtIuBzC,S;UACNrB,S,EA6BDF,W;;;KA9BOuB,S","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport ShowRoomMyBooking from './ShowRoomMyBooking';\nimport { Grid, TextField, Box } from '@material-ui/core';\nimport './styles.css';\nimport axios from 'axios';\nimport {BASE_API} from '../../Constants/index';\nimport {useSelector} from 'react-redux';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n  my_booking_select: {\n    margin: 'auto',\n    border: 'none',\n    outline: 'none',\n    marginLeft: '15px',\n    marginTop: '25px',\n    padding: '0!important',\n  },\n  my_booking_select_status: {\n    width: '200px',\n    height: '100px',\n    borderRadius: '15px',\n    border: '1px solid #e2dede',\n    backgroundColor: '#FFFFFF'\n  },\n\n\n  my_booking_select_month: {\n    width: '400px',\n    height: '100px',\n    borderRadius: '15px',\n    border: '1px solid #e2dede',\n    backgroundColor: '#FFFFFF'\n  },\n  my_booking_select_date_month:{\n    marginTop:'20px',\n    display:'flex',\n    justifyContent:'center',\n  },\n  my_booking_select_date_month_startDate:{\n    border:'none',\n    paddingLeft:'35px',\n    '&:focus':{\n      outline:'none',\n    }\n  },\n  my_booking_select_date_month_endDate:{\n    border:'none',\n    paddingLeft:'35px',\n\n    '&:focus':{\n      outline:'none',\n    }\n  },\n \n \n}));\nexport default function MyBooking() {\n  const classes = useStyles();\n  // const [state, setState] = React.useState({\n\n  // });\n  const top = [\n    { id: '4', title: 'Tất cả đặt chỗ', },\n    { id: '2', title: 'Đã thanh toán', },\n    { id: '1', title: 'Chưa thanh toán', },\n    { id: '3', title: 'Chờ Hủy', },\n    { id: '0', title: 'Hủy', },\n  \n  ];\n\n  // const handleChange = (event) => {\n\n  //   const name = event.target.name;\n  //   setState({\n  //     ...state,\n  //     [name]: event.target.value,\n  //   });\n  //   console.log(event.target.value)\n  // };\n  // ----------------------------------\n  // const thang = new Date().getMonth();\n  const [startDate, setStartDate] = useState(new Date('01-01-2021'));\n  const [endDate, setEndDate] = useState(new Date());\n  const [bills, setBills] = React.useState();\n  const [id, setId] = React.useState(4);\n\n  const userId = useSelector((state) => state.login.id)\n  // console.log(userId)\n  React.useEffect(()=>{\n    axios.get(`${BASE_API}/bills?userId=${userId}&${id ==4 ? '' : `statusPayment=${id}`}`)\n    .then((rep)=>{\n      setBills(rep.data);\n      const data = rep?.data.filter((item) => moment(item.createdAt).isBetween(startDate, endDate, 'month', '[]') === true)\n      setBills(data)\n    })\n    .catch((err)=>{\n      console.log(\"loi\")\n    })\n  }, [id,startDate,endDate])\n  \n  \n  // console.log(startDate, endDate)\n\n  return (\n    <>\n    { (bills && (\n    <div style={{ backgroundColor: '#F8F8F8', width:'100%', maxWidth:'1200px',minHeight:'100vh', height:'100%' }}>\n      <Grid container>\n        <Grid item md={3} xs={12} sm={12}>\n          <Box className={classes.my_booking_select_status}>\n            <FormControl variant=\"standard\" className={classes.my_booking_select}>\n              <Autocomplete\n               getOptionSelected={(option, value) => option.id === value.id}\n              //  defaultValue={0}\n                // value={val}\n                disableClearable={true}\n                id=\"combo-box-demo\"\n                options={top}\n                getOptionLabel={(option) => option.title}\n                style={{ width: 170 }}\n                renderInput={(params) => <TextField  {...params} />}\n                // value={value}\n                onChange={(event, newValue) => {\n                  if (newValue) {\n                    setId(newValue.id);\n                  }\n                }}\n              />\n            </FormControl>\n          </Box>\n        </Grid>\n        <Grid item md={9} xs={12} sm={12}>\n          <Box className={classes.my_booking_select_month}>\n            <div className={classes.my_booking_select_date_month}>\n              <div className=\"startDate\">\n                <Typography style={{color:'gray', paddingLeft:'20px'}}>Từ</Typography>\n                \n              <DatePicker\n                className={classes.my_booking_select_date_month_startDate}\n                selected={startDate}\n                onChange={date => setStartDate(date)}\n                selectsStart\n                startDate={\n                    startDate\n                }\n                endDate={endDate}\n                dateFormat=\"MM/yyyy\"\n                showMonthYearPicker\n              />\n              </div>\n            \n              <div className=\"endDate\">\n              <Typography style={{color:'gray', paddingLeft:'20px'}}>đến</Typography>\n\n              \n              <DatePicker\n                className={classes.my_booking_select_date_month_endDate}\n\n                selected={endDate}\n                onChange={date => setEndDate(date)}\n                selectsEnd\n                startDate={\n                  startDate\n               }\n                endDate={endDate}\n                dateFormat=\"MM/yyyy\"\n                showMonthYearPicker\n              />\n              </div>\n\n              \n              \n            </div>\n          </Box>\n        </Grid>\n      </Grid>\n      <Divider light style={{marginTop:'50px', marginBottom: '50px'}}/>\n      { \n        bills.map((bill) =>\n\n          <ShowRoomMyBooking key={bill._id} item={bill}/>\n\n        )\n      }\n      \n      \n    </div>\n    ) || null )}\n    </>\n  )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}