{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Components/MyBooking/ShowRoomMyBooking.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport moment from 'moment';\nimport slug from 'slug';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Load from 'Components/Load/Load';\nimport axios from 'axios';\nimport { BASE_API } from '../../Constants/index';\nimport { useHistory } from 'react-router';\nconst useStyles = makeStyles(theme => ({\n  show_room_my_booking: {\n    width: '100%',\n    margin: 'auto',\n    backgroundColor: '#FFFFFF',\n    marginTop: '50px',\n    border: '1px solid #e2dede',\n    borderRadius: '15px',\n    paddingTop: '20px'\n  },\n  show_room_my_booking_title: {\n    position: 'relative',\n    [theme.breakpoints.up('md')]: {\n      '&:after': {\n        content: '\"\"',\n        position: 'absolute',\n        width: '1px',\n        height: '80%',\n        border: '0.5px solid #e2dede',\n        top: 25,\n        right: 50\n      }\n    }\n  },\n  show_room_my_booking_status: {\n    fontSize: '10px',\n    lineHeight: '15px',\n    fontWeight: 700,\n    color: '#ffffff',\n    backgroundColor: '#7E8D9A',\n    width: '90px',\n    height: '20px',\n    margin: '15px',\n    paddingLeft: '5px',\n    paddingTop: '2px'\n  },\n  show_room_my_booking_name: {\n    fontSize: '24px',\n    lineHeight: '36px',\n    fontWeight: 500,\n    color: '#222',\n    width: '75%',\n    paddingLeft: '15px',\n    paddingBottom: '15px',\n    paddingRight: '15px',\n    '&:hover': {\n      color: '#f65e39'\n    }\n  },\n  show_room_my_booking__cate: {\n    fontSize: '16px',\n    lineHeight: '24px',\n    fontWeight: 500,\n    color: '#666666',\n    paddingBottom: '15px',\n    paddingLeft: '15px'\n  },\n  show_history_name: {\n    fontSize: '12px',\n    lineHeight: '18px',\n    fontWeight: 500,\n    color: '#999999'\n  },\n  show_history_value: {\n    fontSize: '16px',\n    lineHeight: '24px',\n    fontWeight: 500,\n    color: '#222222'\n  },\n  show_history: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    flexWrap: 'wrap',\n    height: '150px',\n    alignItems: 'center',\n    [theme.breakpoints.up('md')]: {\n      marginTop: '38px'\n    }\n  },\n  show_history_item: {\n    width: '30%',\n    paddingLeft: '10px',\n    height: '30%'\n  },\n  show_room_button_link: {\n    margin: 'auto',\n    position: 'relative',\n    [theme.breakpoints.up('sm')]: {\n      marginTop: '65px',\n      width: '85%'\n    },\n    [theme.breakpoints.down('sm')]: {\n      marginTop: '20px',\n      marginBottom: '25px',\n      width: '95%'\n    }\n  },\n  show_room_button_link_directional: {\n    position: 'relative',\n    '&:after': {\n      [theme.breakpoints.down('sm')]: {\n        content: '\"\"',\n        position: 'absolute',\n        width: '95%',\n        border: '0.5px solid #e2dede',\n        top: 0,\n        left: 15\n      }\n    },\n    [theme.breakpoints.up('md')]: {\n      '&:before': {\n        content: '\"\"',\n        position: 'absolute',\n        height: '80%',\n        border: '0.5px solid #e2dede',\n        top: 20,\n        left: 0\n      }\n    }\n  },\n  show_room_button: {\n    width: '100%'\n  }\n}));\nexport default function ShowRoomMyBooking(props) {\n  _s();\n\n  const classes = useStyles();\n  const room = props.item;\n  var a = moment(room === null || room === void 0 ? void 0 : room.checkIn); // console.log(room)\n\n  var b = moment(room === null || room === void 0 ? void 0 : room.checkOut);\n  const ngayDen = a.format('DD-MM-YYYY');\n  const ngayDi = b.format('DD-MM-YYYY');\n  const numberDayBooking = b.diff(a, 'day');\n  const history = useHistory();\n  const [openHuy, setOpenHuy] = React.useState(false);\n  const [load, setLoad] = React.useState(false);\n\n  function checkPayType() {\n    var date = moment(new Date()).format('MM/DD/YYYY');\n\n    if ((room === null || room === void 0 ? void 0 : room.statusPayment) === 2) {\n      if (moment(room === null || room === void 0 ? void 0 : room.checkIn).isBefore(date, 'day')) {\n        return 1; //Da thanh toan + Huy (huy)\n      } else if (moment(room === null || room === void 0 ? void 0 : room.checkIn).isSameOrAfter(date, 'day')) {\n        return 2; //Da thanh toan + ko the Huy (Dat lai phong)\n      }\n    } else if ((room === null || room === void 0 ? void 0 : room.statusPayment) === 1) {\n      return 3; // Chua thanh toan\n    } else if ((room === null || room === void 0 ? void 0 : room.statusPayment) === 0) {\n      return 4; //Hủy\n    } else if ((room === null || room === void 0 ? void 0 : room.statusPayment) === 3) {\n      return 5; // Cho huy\n    }\n  }\n\n  checkPayType();\n  const slugUrl = slug(room.house_name, {\n    lower: false,\n    locale: 'vi',\n    replacement: '-'\n  });\n\n  function setHuyPay() {\n    setOpenHuy(true);\n  }\n\n  function handleCloseBill() {\n    setOpenHuy(false);\n  }\n\n  function handleSuccessBill() {\n    setOpenHuy(false);\n    setLoad(true);\n    axios.put(`${BASE_API}/bills/${room === null || room === void 0 ? void 0 : room.id}`, {\n      statusPayment: 3\n    });\n    history.go(0);\n  }\n\n  function setHuyNotPay() {\n    setOpenHuy(true);\n  }\n\n  function handleSuccessBillNotPay() {\n    setOpenHuy(false);\n    setLoad(true);\n    axios.put(`${BASE_API}/bills/${room === null || room === void 0 ? void 0 : room.id}`, {\n      statusPayment: 0\n    });\n    history.go(0);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: room && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.show_room_my_booking,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 4,\n          sx: 12,\n          ms: 12,\n          className: classes.show_room_my_booking_title,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_room_my_booking_status,\n              children: room.statusPayment === 2 ? \"Đã thanh toán\" : room.statusPayment === 1 ? \"Chưa thanh toán\" : \"Hủy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            underline: \"none\",\n            to: `/history-booking/${room.id}`,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_room_my_booking_name,\n              children: room.house_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            className: classes.show_room_my_booking__cate,\n            children: \"Nguy\\xEAn c\\u0103n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 5,\n          sx: 12,\n          ms: 12,\n          className: classes.show_history,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_history_item,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_name,\n              children: \"M\\xE3 \\u0111\\u1EB7t ch\\u1ED7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_value,\n              children: [room === null || room === void 0 ? void 0 : room._id.substr(-8), \"...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_history_item,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_name,\n              children: \"S\\u1ED1 kh\\xE1ch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_value,\n              children: room === null || room === void 0 ? void 0 : room.number_people\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_history_item,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_name,\n              children: \"Ng\\xE0y \\u0111\\u1EBFn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_value,\n              children: ngayDen\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_history_item,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_name,\n              children: \"S\\u1ED1 \\u0111\\xEAm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_value,\n              children: [numberDayBooking, \" \\u0111\\xEAm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_history_item,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_name,\n              children: \"T\\u1ED5ng ti\\u1EC1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_value,\n              children: new Intl.NumberFormat('vn-VN', {\n                style: 'currency',\n                currency: 'VND'\n              }).format(room === null || room === void 0 ? void 0 : room.total_cost)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_history_item,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_name,\n              children: \"Ng\\xE0y \\u0111i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              className: classes.show_history_value,\n              children: ngayDi\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          ms: 12,\n          className: classes.show_room_button_link_directional,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.show_room_button_link,\n            children: checkPayType() === 2 ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              className: classes.show_room_button,\n              onClick: setHuyPay,\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 41\n            }, this) : checkPayType() === 1 ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              color: \"secondary\",\n              className: classes.show_room_button,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/room/${slugUrl}.${room === null || room === void 0 ? void 0 : room.houseId}`,\n                children: \"\\u0110\\u1EB7t l\\u1EA1i ch\\u1ED7 \\u1EDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 108\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 49\n            }, this) : checkPayType() === 3 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                className: classes.show_room_button,\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/bill/${room === null || room === void 0 ? void 0 : room.id}`,\n                  children: \"Thanh To\\xE1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 102\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 61\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  marginTop: '5px'\n                },\n                variant: \"contained\",\n                onClick: setHuyNotPay,\n                color: \"secondary\",\n                className: classes.show_room_button,\n                children: \"H\\u1EE7y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true) : checkPayType() === 4 ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              className: classes.show_room_button,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/room/${slugUrl}.${room === null || room === void 0 ? void 0 : room.houseId}`,\n                children: \"\\u0110\\u1EB7t l\\u1EA1i ch\\u1ED7 \\u1EDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 106\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 65\n            }, this) : checkPayType() === 5 ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              disabled: true,\n              color: \"secondary\",\n              className: classes.show_room_button,\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/bill/${room === null || room === void 0 ? void 0 : room.id}`,\n                children: \"...Loading\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 132\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 73\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }, this), room && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.bill,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Dialog, {\n            open: openHuy,\n            onClose: handleCloseBill,\n            \"aria-labelledby\": \"alert-dialog-title\",\n            \"aria-describedby\": \"alert-dialog-description\",\n            children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n              id: \"alert-dialog-title\",\n              children: \"Xác nhận hủy phòng.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n              children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n                id: \"alert-dialog-description\",\n                children: [\"X\\xE1c nh\\u1EADn h\\u1EE7y \\u0111\\u01A1n \\u0111\\u1EB7t ph\\xF2ng:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 72\n                }, this), \"- T\\xEAn HomeStay: \", room === null || room === void 0 ? void 0 : room.house_name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 80\n                }, this), \"- CheckIn: \", ngayDen, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 66\n                }, this), \"- CheckOut: \", ngayDi, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 66\n                }, this), \"- \\u0110\\u01A1n gi\\xE1: \", new Intl.NumberFormat('vn-VN', {\n                  style: 'currency',\n                  currency: 'VND'\n                }).format(room === null || room === void 0 ? void 0 : room.total_cost), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 154\n                }, this), \"- Tr\\u1EA1ng th\\xE1i: \", (room === null || room === void 0 ? void 0 : room.statusPayment) === 2 ? 'Đã thanh toán' : 'Chưa thanh toán', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 124\n                }, this), (room === null || room === void 0 ? void 0 : room.statusPayment) === 2 ? `*** Chúng tôi sẽ liên hệ với bạn qua số ${room === null || room === void 0 ? void 0 : room.phoneNumber} để xác nhận hủy phòng cũng như chính sách hoàn tiền, phí. Xin cảm ơn!` : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleCloseBill,\n                color: \"primary\",\n                children: \"Disagree\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 41\n              }, this), (room === null || room === void 0 ? void 0 : room.statusPayment) === 2 ? /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSuccessBill,\n                color: \"primary\",\n                autoFocus: true,\n                children: \"Agree\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleSuccessBillNotPay,\n                color: \"primary\",\n                autoFocus: true,\n                children: \"Agree\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }, this) || null, load === true ? /*#__PURE__*/_jsxDEV(Load, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 38\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }, this) || null\n  }, void 0, false);\n}\n\n_s(ShowRoomMyBooking, \"oCe424e4n7OzS1GGaykstPHkHo4=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = ShowRoomMyBooking;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowRoomMyBooking\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Components/MyBooking/ShowRoomMyBooking.js"],"names":["React","makeStyles","Grid","Typography","Link","Button","moment","slug","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Load","axios","BASE_API","useHistory","useStyles","theme","show_room_my_booking","width","margin","backgroundColor","marginTop","border","borderRadius","paddingTop","show_room_my_booking_title","position","breakpoints","up","content","height","top","right","show_room_my_booking_status","fontSize","lineHeight","fontWeight","color","paddingLeft","show_room_my_booking_name","paddingBottom","paddingRight","show_room_my_booking__cate","show_history_name","show_history_value","show_history","display","justifyContent","flexWrap","alignItems","show_history_item","show_room_button_link","down","marginBottom","show_room_button_link_directional","left","show_room_button","ShowRoomMyBooking","props","classes","room","item","a","checkIn","b","checkOut","ngayDen","format","ngayDi","numberDayBooking","diff","history","openHuy","setOpenHuy","useState","load","setLoad","checkPayType","date","Date","statusPayment","isBefore","isSameOrAfter","slugUrl","house_name","lower","locale","replacement","setHuyPay","handleCloseBill","handleSuccessBill","put","id","go","setHuyNotPay","handleSuccessBillNotPay","_id","substr","number_people","Intl","NumberFormat","style","currency","total_cost","houseId","bill","phoneNumber"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { Button } from '@material-ui/core';\nimport moment from 'moment';\nimport slug from 'slug';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Load from 'Components/Load/Load';\nimport axios from 'axios';\nimport {BASE_API} from '../../Constants/index';\nimport { useHistory } from 'react-router'\n\nconst useStyles = makeStyles((theme) => ({\n    show_room_my_booking: {\n        width: '100%',\n        margin: 'auto',\n        backgroundColor: '#FFFFFF',\n        marginTop: '50px',\n        border: '1px solid #e2dede',\n        borderRadius: '15px',\n        paddingTop: '20px'\n    },\n    show_room_my_booking_title: {\n        position: 'relative',\n        [theme.breakpoints.up('md')]: {\n\n            '&:after': {\n                content: '\"\"',\n                position: 'absolute',\n                width: '1px',\n                height: '80%',\n                border: '0.5px solid #e2dede',\n                top: 25,\n                right: 50\n            }\n        },\n    },\n    show_room_my_booking_status: {\n        fontSize: '10px',\n        lineHeight: '15px',\n        fontWeight: 700,\n        color: '#ffffff',\n        backgroundColor: '#7E8D9A',\n        width: '90px',\n        height: '20px',\n        margin: '15px',\n        paddingLeft: '5px',\n        paddingTop: '2px'\n    },\n    show_room_my_booking_name: {\n        fontSize: '24px',\n        lineHeight: '36px',\n        fontWeight: 500,\n        color: '#222',\n        width: '75%',\n        paddingLeft: '15px',\n        paddingBottom: '15px',\n        paddingRight: '15px',\n        '&:hover': {\n            color: '#f65e39'\n        }\n    },\n    show_room_my_booking__cate: {\n        fontSize: '16px',\n        lineHeight: '24px',\n        fontWeight: 500,\n        color: '#666666',\n        paddingBottom: '15px',\n        paddingLeft: '15px',\n    },\n    show_history_name: {\n        fontSize: '12px',\n        lineHeight: '18px',\n        fontWeight: 500,\n        color: '#999999',\n    },\n    show_history_value: {\n        fontSize: '16px',\n        lineHeight: '24px',\n        fontWeight: 500,\n        color: '#222222',\n    },\n    show_history: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        flexWrap: 'wrap',\n        height: '150px',\n        alignItems: 'center',\n        [theme.breakpoints.up('md')]: {\n            marginTop: '38px',\n        },\n\n    },\n    show_history_item: {\n        width: '30%',\n        paddingLeft: '10px',\n        height: '30%'\n    },\n    show_room_button_link: {\n        margin: 'auto',\n        position: 'relative',\n        [theme.breakpoints.up('sm')]: {\n            marginTop: '65px',\n            width: '85%',\n\n        },\n        [theme.breakpoints.down('sm')]: {\n            marginTop: '20px',\n            marginBottom: '25px',\n            width: '95%',\n\n        },\n\n    },\n    show_room_button_link_directional: {\n        position: 'relative',\n        '&:after': {\n            [theme.breakpoints.down('sm')]: {\n                content: '\"\"',\n                position: 'absolute',\n                width: '95%',\n                border: '0.5px solid #e2dede',\n                top: 0,\n                left: 15\n            },\n\n        },\n\n        [theme.breakpoints.up('md')]: {\n            '&:before': {\n\n                content: '\"\"',\n                position: 'absolute',\n                height: '80%',\n                border: '0.5px solid #e2dede',\n                top: 20,\n                left: 0\n            },\n        }\n\n    },\n    show_room_button: {\n        width: '100%',\n    }\n}));\nexport default function ShowRoomMyBooking(props) {\n    const classes = useStyles();\n    const room = props.item;\n    var a = moment(room?.checkIn);\n    // console.log(room)\n    var b = moment(room?.checkOut);\n    const ngayDen = a.format('DD-MM-YYYY');\n    const ngayDi = b.format('DD-MM-YYYY');\n    const numberDayBooking = b.diff(a, 'day');\n    const history = useHistory();\n    const [openHuy, setOpenHuy] = React.useState(false);\n    const [load, setLoad] = React.useState(false);\n\n\n\n    function checkPayType() {\n        var date = moment(new Date()).format('MM/DD/YYYY');\n\n        if (room?.statusPayment === 2) {\n            if (moment(room?.checkIn).isBefore(date, 'day')) {\n                return 1; //Da thanh toan + Huy (huy)\n            }\n            else if (moment(room?.checkIn).isSameOrAfter(date, 'day')) {\n                return 2; //Da thanh toan + ko the Huy (Dat lai phong)\n            }\n        }\n        else if (room?.statusPayment === 1) {\n            return 3; // Chua thanh toan\n        }\n        else if (room?.statusPayment === 0) {\n            return 4; //Hủy\n        }\n        else if (room?.statusPayment === 3) {\n            return 5; // Cho huy\n        }\n    }\n    checkPayType();\n    const slugUrl = slug(room.house_name, { lower: false, locale: 'vi', replacement: '-', });\n    function setHuyPay() {\n        setOpenHuy(true);\n    }\n    function handleCloseBill() {\n        setOpenHuy(false);\n\n    }\n    function handleSuccessBill() {\n        setOpenHuy(false);\n        setLoad(true);\n        axios.put(`${BASE_API}/bills/${room?.id}`, {\n            statusPayment: 3\n        });\n        history.go(0);\n\n    }\n    function setHuyNotPay(){\n        setOpenHuy(true);\n\n    }\n    function handleSuccessBillNotPay(){\n        setOpenHuy(false);\n        setLoad(true);\n        axios.put(`${BASE_API}/bills/${room?.id}`, {\n            statusPayment: 0\n        });\n        history.go(0);\n\n    }\n    return (\n        <>\n            {(room && (\n                <div className={classes.show_room_my_booking}>\n                    <Grid container>\n                        <Grid item md={4} sx={12} ms={12} className={classes.show_room_my_booking_title}>\n                            <div>\n                                <Typography className={classes.show_room_my_booking_status}>\n                                    {room.statusPayment === 2 ? \"Đã thanh toán\" : (room.statusPayment === 1 ? \"Chưa thanh toán\" : \"Hủy\")}\n                                </Typography>\n\n                            </div>\n                            <Link underline='none' to={`/history-booking/${room.id}`} >\n                                <Typography className={classes.show_room_my_booking_name}>\n                                    {room.house_name}\n                                </Typography>\n                            </Link>\n\n                            <Typography className={classes.show_room_my_booking__cate}>\n                                Nguyên căn\n                        </Typography>\n                        </Grid>\n\n                        <Grid item md={5} sx={12} ms={12} className={classes.show_history}>\n\n                            <div className={classes.show_history_item}>\n                                <Typography className={classes.show_history_name}>Mã đặt chỗ</Typography>\n                                <Typography className={classes.show_history_value}>{room?._id.substr(-8)}...</Typography>\n                            </div>\n                            <div className={classes.show_history_item}>\n                                <Typography className={classes.show_history_name}>Số khách</Typography>\n                                <Typography className={classes.show_history_value}>{room?.number_people}</Typography>\n                            </div>\n                            <div className={classes.show_history_item}>\n                                <Typography className={classes.show_history_name}>Ngày đến</Typography>\n                                <Typography className={classes.show_history_value}>{ngayDen}</Typography>\n                            </div>\n                            <div className={classes.show_history_item}>\n                                <Typography className={classes.show_history_name}>Số đêm</Typography>\n                                <Typography className={classes.show_history_value}>{numberDayBooking} đêm</Typography>\n                            </div>\n                            <div className={classes.show_history_item}>\n                                <Typography className={classes.show_history_name}>Tổng tiền</Typography>\n                                <Typography className={classes.show_history_value}>{new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(room?.total_cost)}\n\n                                </Typography>\n                            </div>\n                            <div className={classes.show_history_item}>\n                                <Typography className={classes.show_history_name}>Ngày đi</Typography>\n                                <Typography className={classes.show_history_value}>{ngayDi}</Typography>\n                            </div>\n                        </Grid>\n                        <Grid item md={3} xs={12} ms={12} className={classes.show_room_button_link_directional}>\n                            <div className={classes.show_room_button_link}>\n                                {/* {room?.statusPayment === 1 ?\n                                    <Button variant=\"contained\"\n                                        color=\"secondary\" className={classes.show_room_button}><Link to={`/bill/${room?.id}`}>Thanh toán</Link>\n                                    </Button>\n                                    :\n                                    <Button variant=\"contained\"\n                                        color=\"primary\" className={classes.show_room_button}><Link to={`/room/${slugUrl}.${room?.houseId}`}>Đặt lại chỗ ở</Link>\n                                    </Button>\n                                } */}\n                                {\n                                    checkPayType() === 2\n                                        ?\n                                        <Button variant=\"contained\"\n                                            color=\"secondary\" className={classes.show_room_button} onClick={setHuyPay}>Hủy\n                                        </Button>\n                                        :\n                                        (\n                                            checkPayType() === 1\n                                                ?\n                                                <Button variant=\"contained\" color=\"primary\"\n                                                    color=\"secondary\" className={classes.show_room_button}><Link to={`/room/${slugUrl}.${room?.houseId}`}>Đặt lại chỗ ở</Link>\n                                                </Button>\n                                                :\n                                                (\n                                                    checkPayType() === 3\n                                                        ?\n                                                        <>\n                                                            <Button\n                                                                variant=\"contained\" color=\"primary\"\n                                                                className={classes.show_room_button}><Link to={`/bill/${room?.id}`}>Thanh Toán</Link>\n                                                            </Button>\n                                                            <Button\n                                                                style={{ marginTop: '5px' }}\n                                                                variant=\"contained\"\n                                                                onClick={setHuyNotPay}\n                                                                color=\"secondary\" className={classes.show_room_button}>Hủy\n                                                            </Button>\n                                                        </>\n                                                        :\n                                                        (\n                                                            checkPayType() === 4\n                                                                ?\n\n                                                                <Button\n                                                                    variant=\"contained\" color=\"primary\"\n                                                                    className={classes.show_room_button}><Link to={`/room/${slugUrl}.${room?.houseId}`}>Đặt lại chỗ ở</Link>\n                                                                </Button>\n\n\n                                                                :\n                                                                (\n                                                                    checkPayType() === 5\n                                                                        ?\n\n                                                                        <Button\n                                                                            variant=\"contained\" disabled\n                                                                            color=\"secondary\" className={classes.show_room_button}><Link to={`/bill/${room?.id}`}>...Loading</Link>\n                                                                        </Button>\n\n\n                                                                        :\n                                                                        null\n                                                                )\n                                                        )\n                                                )\n                                        )\n\n                                }\n                            </div>\n                        </Grid>\n\n\n\n                    </Grid>\n                    {(room && (\n                        <div className={classes.bill}>\n                            <div>\n\n                                <Dialog\n                                    open={openHuy}\n                                    onClose={handleCloseBill}\n                                    aria-labelledby=\"alert-dialog-title\"\n                                    aria-describedby=\"alert-dialog-description\"\n                                >\n                                    <DialogTitle id=\"alert-dialog-title\">{\"Xác nhận hủy phòng.\"}</DialogTitle>\n                                    <DialogContent>\n                                        <DialogContentText id=\"alert-dialog-description\">\n                                            Xác nhận hủy đơn đặt phòng:<br />\n                                            - Tên HomeStay: {room?.house_name} <br />\n                                            - CheckIn: {ngayDen} <br />\n                                            - CheckOut: {ngayDi} <br />\n                                            - Đơn giá: {new Intl.NumberFormat('vn-VN', { style: 'currency', currency: 'VND' }).format(room?.total_cost)} <br />\n                                            - Trạng thái: {room?.statusPayment === 2 ? 'Đã thanh toán' : 'Chưa thanh toán'}<br />\n                                            {room?.statusPayment === 2 ? \n                                            `*** Chúng tôi sẽ liên hệ với bạn qua số ${room?.phoneNumber} để xác nhận hủy phòng cũng như chính sách hoàn tiền, phí. Xin cảm ơn!`\n                                            : ''\n                                            }\n\n\n                                        </DialogContentText>\n\n                                    </DialogContent>\n                                    <DialogActions>\n                                        <Button onClick={handleCloseBill} color=\"primary\">\n                                            Disagree\n         </Button>                      \n                                        {room?.statusPayment === 2 ? \n                                        \n                                        <Button onClick={handleSuccessBill} color=\"primary\" autoFocus>\n                                            Agree\n         </Button>\n         : \n         <Button onClick={handleSuccessBillNotPay} color=\"primary\" autoFocus>\n         Agree\n</Button>\n}\n\n                                    </DialogActions>\n                                </Dialog>\n                            </div>\n                        </div>\n                    ) || null)}\n                    {load === true ? <Load /> : null}\n\n                </div>\n            ) || null)}\n        </>\n    )\n\n}\n"]},"metadata":{},"sourceType":"module"}