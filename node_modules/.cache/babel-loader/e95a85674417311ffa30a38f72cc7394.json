{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tuyennguyen/KLTN/CLIEN/src/Pages/Search/Search.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme.js'; // import Container from '@material-ui/core/Container';\n// import Box from '@material-ui/core/Box';\n// import { makeStyles } from '@material-ui/core/styles';\n\nimport Loading from '../../Components/Load/Load';\nimport Header from '../../Components/Header/Header';\nimport Category from '../../Components/Category/Category';\nimport ShowRoom from '../../Components/ShowRoom/ShowRoom';\nimport Slider from '../../Components/Slider/Slider';\nimport Footer from '../../Components/Footer/Footer';\nimport { BASE_API } from '../../Constants/index';\nimport axios from 'axios';\nimport Load from '../../Components/Load/Load';\nimport queryString from \"query-string\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment'; // const useStyles = makeStyles((theme) => ({\n//     '@global': {\n//         margin: 0,\n//         padding: 0,\n//         listStyle: 'none',\n//         a: {\n//             textDecoration: 'none',\n//         }\n//     },\n// }));\n\nexport default function ShowHome(props) {\n  _s();\n\n  const [roomInfor, setRoomInfor] = React.useState([]);\n  const dispatch = useDispatch(); // console.log(\"üöÄ ~ file: Search.js ~ line 32 ~ ShowHome ~ roomInfor\", roomInfor);\n\n  const search1 = queryString.parse(props.location.search); // console.log(search1)\n\n  const keySearch = search1.key;\n  const startDateSearch = search1.checkIn;\n  const endDateSearch = search1.checkOut; // console.log(\"üöÄ ~ file: Search.js ~ line 35 ~ ShowHome ~ key\", keySearch)\n\n  function removeVietnameseTones(str) {\n    str = str.replace(/√†|√°|·∫°|·∫£|√£|√¢|·∫ß|·∫•|·∫≠|·∫©|·∫´|ƒÉ|·∫±|·∫Ø|·∫∑|·∫≥|·∫µ/g, \"a\");\n    str = str.replace(/√®|√©|·∫π|·∫ª|·∫Ω|√™|·ªÅ|·∫ø|·ªá|·ªÉ|·ªÖ/g, \"e\");\n    str = str.replace(/√¨|√≠|·ªã|·ªâ|ƒ©/g, \"i\");\n    str = str.replace(/√≤|√≥|·ªç|·ªè|√µ|√¥|·ªì|·ªë|·ªô|·ªï|·ªó|∆°|·ªù|·ªõ|·ª£|·ªü|·ª°/g, \"o\");\n    str = str.replace(/√π|√∫|·ª•|·ªß|≈©|∆∞|·ª´|·ª©|·ª±|·ª≠|·ªØ/g, \"u\");\n    str = str.replace(/·ª≥|√Ω|·ªµ|·ª∑|·ªπ/g, \"y\");\n    str = str.replace(/ƒë/g, \"d\");\n    str = str.replace(/√Ä|√Å|·∫†|·∫¢|√É|√Ç|·∫¶|·∫§|·∫¨|·∫®|·∫™|ƒÇ|·∫∞|·∫Æ|·∫∂|·∫≤|·∫¥/g, \"a\");\n    str = str.replace(/√à|√â|·∫∏|·∫∫|·∫º|√ä|·ªÄ|·∫æ|·ªÜ|·ªÇ|·ªÑ/g, \"e\");\n    str = str.replace(/√å|√ç|·ªä|·ªà|ƒ®/g, \"i\");\n    str = str.replace(/√í|√ì|·ªå|·ªé|√ï|√î|·ªí|·ªê|·ªò|·ªî|·ªñ|∆†|·ªú|·ªö|·ª¢|·ªû|·ª†/g, \"o\");\n    str = str.replace(/√ô|√ö|·ª§|·ª¶|≈®|∆Ø|·ª™|·ª®|·ª∞|·ª¨|·ªÆ|U/g, \"u\");\n    str = str.replace(/·ª≤|√ù|·ª¥|·ª∂|·ª∏/g, \"y\");\n    str = str.replace(/ƒê/g, \"d\");\n    str = str.replace(/\\s/g, '');\n    str = str.toLowerCase(); // Some system encode vietnamese combining accent as individual utf-8 characters\n    // M·ªôt v√†i b·ªô encode coi c√°c d·∫•u m≈©, d·∫•u ch·ªØ nh∆∞ m·ªôt k√≠ t·ª± ri√™ng bi·ªát n√™n th√™m hai d√≤ng n√†y\n\n    str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ÃÄ ÃÅ ÃÉ Ãâ Ã£  huy·ªÅn, s·∫Øc, ng√£, h·ªèi, n·∫∑ng\n\n    str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ÀÜ ÃÜ Ãõ  √Ç, √ä, ƒÇ, ∆†, ∆Ø\n    // Remove extra spaces\n    // B·ªè c√°c kho·∫£ng tr·∫Øng li·ªÅn nhau\n\n    str = str.replace(/ + /g, \" \");\n    str = str.trim(); // Remove punctuations\n    // B·ªè d·∫•u c√¢u, k√≠ t·ª± ƒë·∫∑c bi·ªát\n\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\n    return str;\n  } // console.log(removeVietnameseTones(\"huyengiaothuy\").includes(removeVietnameseTones(\"giaot\")));\n\n\n  const [bills, setBills] = React.useState();\n  React.useEffect(() => {\n    axios.get(\"http://localhost:1337/bills?statusPayment_in=1&statusPayment_in=2\") // axios.get(\"http://localhost:1337/bills\")\n    .then(response => {\n      setBills(response.data);\n    }).catch(error => console.log(\"loi\"));\n  }, []);\n  console.log(bills);\n  const search = useSelector(state => state.searchAdv);\n  const numberKhach = useSelector(state => state.search);\n  const startDate = moment(startDateSearch, 'DD-MM-YYYY').toDate();\n  const endDate = moment(endDateSearch, 'DD-MM-YYYY').toDate(); // console.log(startDate,startDateSearch);\n  // console.log(endDate,endDateSearch);\n\n  React.useEffect(() => {\n    // const mang = ['600f0b2a3f60ed53ac6d94ef','600f12293f60ed53ac6d94f0','600fde2523d29a1b5ac97272','60102d87ada05dde5ecc034d','600fddcc23d29a1b5ac97271']\n    // axios.get(`http://localhost:1337/house-for-rents?&${search.checkedNhaRieng === true ? 'id_typehouse=600fddcc23d29a1b5ac97271' : ''}&${search.checkedNhaNghi === true ? 'id_typehouse=60102d87ada05dde5ecc034d' : ''}&${search.checkedKhac === true ? 'id_typehouse_nin=600f0b2a3f60ed53ac6d94ef&id_typehouse_nin=600f12293f60ed53ac6d94f0&id_typehouse_nin=600fde2523d29a1b5ac97272&id_typehouse_nin=60102d87ada05dde5ecc034d&id_typehouse_nin=600fddcc23d29a1b5ac97271' : ''}&_where[0][price_gte]=${search.valuePriceMin}&_where[0][price_lte]=${search.valuePriceMax}&number_of_bedroom_gte=${search.numberRoom}&people_max_gte=${numberKhach.adults + numberKhach.children}`)\n    axios.get(`http://localhost:1337/house-for-rents?${search.checkedChungCu === true ? 'id_typehouse=600f0b2a3f60ed53ac6d94ef' : ''}&${search.checkedBietThu === true ? 'id_typehouse=600fde2523d29a1b5ac97272' : ''}&${search.checkedHomeStay === true ? 'id_typehouse=600f12293f60ed53ac6d94f0' : ''}&${search.checkedNhaRieng === true ? 'id_typehouse=600fddcc23d29a1b5ac97271' : ''}&${search.checkedNhaNghi === true ? 'id_typehouse=60102d87ada05dde5ecc034d' : ''}&${search.checkedKhac === true ? 'id_typehouse_nin=600f0b2a3f60ed53ac6d94ef&id_typehouse_nin=600f12293f60ed53ac6d94f0&id_typehouse_nin=600fde2523d29a1b5ac97272&id_typehouse_nin=60102d87ada05dde5ecc034d&id_typehouse_nin=600fddcc23d29a1b5ac97271' : ''}&_where[0][price_gte]=${search.valuePriceMin}&_where[0][price_lte]=${search.valuePriceMax}&number_of_bedroom_gte=${search.numberRoom}&people_max_gte=${numberKhach.adults + numberKhach.children}`).then(response => {\n      const data = response.data;\n\n      if (!keySearch && !startDateSearch && !endDateSearch) {\n        setRoomInfor(data); // console.log(data)\n      } else if (keySearch && !startDateSearch && !endDateSearch) {\n        var list = [];\n\n        if (keySearch.length < 3) {\n          setRoomInfor(list);\n        } else {\n          async function searchFn() {\n            const listWard = await data.filter(house => removeVietnameseTones(house.address_ward).includes(removeVietnameseTones(keySearch)) === true);\n            const listRoomApi = await axios.get(`${BASE_API}/house-for-rents`);\n            const listQuanInRoom = await (listRoomApi === null || listRoomApi === void 0 ? void 0 : listRoomApi.data.map(room => room.districts_id));\n            const listQuanApi = await axios.get(`${BASE_API}/districts?_limit=10000`);\n            const listQuanDetai = await (listQuanApi === null || listQuanApi === void 0 ? void 0 : listQuanApi.data.filter(quan => listQuanInRoom.includes(quan.district_id)));\n            const listDataQuan = await listQuanDetai.filter(quan => removeVietnameseTones(quan.district_name).includes(removeVietnameseTones(keySearch)));\n            const listDataIdQuan = await listDataQuan.map(quan => quan.district_id);\n            const listRoomQuan = await data.filter(house => listDataIdQuan.includes(house.districts_id));\n            const listTinhInRoom = await (listRoomApi === null || listRoomApi === void 0 ? void 0 : listRoomApi.data.map(room => room.provinces_id));\n            const listTinhApi = await axios.get(`${BASE_API}/provinces`);\n            const listTinhDetai = await (listTinhApi === null || listTinhApi === void 0 ? void 0 : listTinhApi.data.filter(tinh => listTinhInRoom.includes(tinh.province_id)));\n            const listDataTinh = await listTinhDetai.filter(tinh => removeVietnameseTones(tinh.province_name).includes(removeVietnameseTones(keySearch)));\n            const listDataIdTinh = await listDataTinh.map(tinh => tinh.province_id);\n            const listRoomTinh = await data.filter(house => listDataIdTinh.includes(house.provinces_id));\n            const dataSearch = listWard.concat(listRoomQuan, listRoomTinh);\n            setRoomInfor(dataSearch); // console.log(listQuanDetai)\n            // const listDataTinh2 = await listQuanDetai.filter(quan => console.log(removeVietnameseTones(quan.district_name)));\n            // const listDataTinh3 = await listQuanDetai.filter(quan => console.log(removeVietnameseTones(keySearch)));\n          }\n\n          searchFn();\n        }\n      } else if (!keySearch && startDateSearch && endDateSearch) {\n        const listBill = bills === null || bills === void 0 ? void 0 : bills.filter(bill => {\n          var _moment, _moment2, _moment3, _moment4;\n\n          return ((_moment = moment(bill === null || bill === void 0 ? void 0 : bill.checkIn)) === null || _moment === void 0 ? void 0 : _moment.isBetween(startDate, endDate, 'day', '[]')) == true || ((_moment2 = moment(bill === null || bill === void 0 ? void 0 : bill.checkOut)) === null || _moment2 === void 0 ? void 0 : _moment2.isBetween(startDate, endDate, 'day', '[]')) == true || ((_moment3 = moment(startDate)) === null || _moment3 === void 0 ? void 0 : _moment3.isBetween(bill === null || bill === void 0 ? void 0 : bill.checkIn, bill === null || bill === void 0 ? void 0 : bill.checkOut, 'day', '[]')) === true || ((_moment4 = moment(endDate)) === null || _moment4 === void 0 ? void 0 : _moment4.isBetween(bill === null || bill === void 0 ? void 0 : bill.checkIn, bill === null || bill === void 0 ? void 0 : bill.checkOut, 'day', '[]')) === true;\n        });\n        console.log(listBill);\n        let listBillLoai = listBill.map(item => {\n          return item.houseId;\n        });\n        console.log(listBillLoai);\n        const filterBillRoom = data === null || data === void 0 ? void 0 : data.filter(room => !(listBillLoai === null || listBillLoai === void 0 ? void 0 : listBillLoai.includes(room === null || room === void 0 ? void 0 : room.id)));\n        console.log(filterBillRoom);\n        setRoomInfor(filterBillRoom);\n      } else if (keySearch && startDateSearch && endDateSearch) {\n        async function searchFn() {\n          const listWard = await data.filter(house => removeVietnameseTones(house.address_ward).includes(removeVietnameseTones(keySearch)) === true);\n          const listRoomApi = await axios.get(`${BASE_API}/house-for-rents`);\n          const listQuanInRoom = await (listRoomApi === null || listRoomApi === void 0 ? void 0 : listRoomApi.data.map(room => room.districts_id));\n          const listQuanApi = await axios.get(`${BASE_API}/districts?_limit=10000`);\n          const listQuanDetai = await (listQuanApi === null || listQuanApi === void 0 ? void 0 : listQuanApi.data.filter(quan => listQuanInRoom.includes(quan.district_id)));\n          const listDataQuan = await listQuanDetai.filter(quan => removeVietnameseTones(quan.district_name).includes(removeVietnameseTones(keySearch)));\n          const listDataIdQuan = await listDataQuan.map(quan => quan.district_id);\n          const listRoomQuan = await data.filter(house => listDataIdQuan.includes(house.districts_id));\n          const listTinhInRoom = await (listRoomApi === null || listRoomApi === void 0 ? void 0 : listRoomApi.data.map(room => room.provinces_id));\n          const listTinhApi = await axios.get(`${BASE_API}/provinces`);\n          const listTinhDetai = await (listTinhApi === null || listTinhApi === void 0 ? void 0 : listTinhApi.data.filter(tinh => listTinhInRoom.includes(tinh.province_id)));\n          const listDataTinh = await listTinhDetai.filter(tinh => removeVietnameseTones(tinh.province_name).includes(removeVietnameseTones(keySearch)));\n          const listDataIdTinh = await listDataTinh.map(tinh => tinh.province_id);\n          const listRoomTinh = await data.filter(house => listDataIdTinh.includes(house.provinces_id));\n          const dataSearch1 = listWard.concat(listRoomQuan, listRoomTinh);\n          const listBill = bills === null || bills === void 0 ? void 0 : bills.filter(bill => {\n            var _moment5, _moment6, _moment7, _moment8;\n\n            return ((_moment5 = moment(bill.checkIn)) === null || _moment5 === void 0 ? void 0 : _moment5.isBetween(startDate, endDate, 'day', '[]')) == true || ((_moment6 = moment(bill.checkOut)) === null || _moment6 === void 0 ? void 0 : _moment6.isBetween(startDate, endDate, 'day', '[]')) == true || ((_moment7 = moment(startDate)) === null || _moment7 === void 0 ? void 0 : _moment7.isBetween(bill === null || bill === void 0 ? void 0 : bill.checkIn, bill === null || bill === void 0 ? void 0 : bill.checkOut, 'day', '[]')) === true || ((_moment8 = moment(endDate)) === null || _moment8 === void 0 ? void 0 : _moment8.isBetween(bill === null || bill === void 0 ? void 0 : bill.checkIn, bill === null || bill === void 0 ? void 0 : bill.checkOut, 'day', '[]')) === true;\n          }); // console.log(listBill)\n\n          let listBillLoai = listBill.map(item => {\n            return item.houseId;\n          }); // console.log(listBillLoai)\n\n          const filterBillRoom = dataSearch1 === null || dataSearch1 === void 0 ? void 0 : dataSearch1.filter(room => !(listBillLoai === null || listBillLoai === void 0 ? void 0 : listBillLoai.includes(room === null || room === void 0 ? void 0 : room.id))); // const dataSearch2 = dataSearch1.concat(filterBillRoom);\n\n          setRoomInfor(filterBillRoom);\n        }\n\n        searchFn(); // console.log(filterBillRoom);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [keySearch, startDateSearch, endDateSearch, numberKhach, search, bills]); //    const [dataRooms, setDataRooms] = React.useState();\n  // if(startDateSearch && endDateSearch === \"Invalid date\"){\n  //     const listBill = bills?.filter(bill=> moment(startDate)?.isBetween(bill?.checkIn, bill?.checkOut, 'day' , '[)'));\n  //     let listA = listBill?.map(itemBillIdRoom => {\n  //         return itemBillIdRoom?.houseId;\n  //     })\n  //     let listB = roomInfor?.filter(roomItem => !listA.includes(roomItem.id))\n  //     console.log(listB)\n  //     console.log('aa')\n  // }\n  // const classes = useStyles();\n  // React.useEffect(() => {\n  //     axios.get(\"http://localhost:1337/house-for-rents?_limit=20\")\n  //         .then(response => {\n  //             setRoomInfor(response.data);\n  //         }).catch((error) => {\n  //             console.log(\"l·ªói\");\n  //         })\n  // }, [])\n  // const token = document.cookie;\n  // const token1 = token.slice(token.indexOf(\"admin=\") + 6, token.indexOf(\",\"));\n  // axios.get('http://localhost:1337/users', {\n  //     headers: {\n  //         Authorization: `Bearer ${token1}`,\n  //     },\n  // })\n  //     .then(response => {\n  //         // Handle success.\n  //     })\n  //     .catch(error => {\n  //         // Handle error.\n  //         console.log('An error occurred:', error.response);\n  //     });\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Category, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ShowRoom, {\n        data: roomInfor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ShowHome, \"M3UqlnFtp/CcUW7iHUmXxEYx2nY=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = ShowHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowHome\");","map":{"version":3,"sources":["/home/tuyennguyen/KLTN/CLIEN/src/Pages/Search/Search.js"],"names":["React","ThemeProvider","theme","Loading","Header","Category","ShowRoom","Slider","Footer","BASE_API","axios","Load","queryString","useSelector","useDispatch","moment","ShowHome","props","roomInfor","setRoomInfor","useState","dispatch","search1","parse","location","search","keySearch","key","startDateSearch","checkIn","endDateSearch","checkOut","removeVietnameseTones","str","replace","toLowerCase","trim","bills","setBills","useEffect","get","then","response","data","catch","error","console","log","state","searchAdv","numberKhach","startDate","toDate","endDate","checkedChungCu","checkedBietThu","checkedHomeStay","checkedNhaRieng","checkedNhaNghi","checkedKhac","valuePriceMin","valuePriceMax","numberRoom","adults","children","list","length","searchFn","listWard","filter","house","address_ward","includes","listRoomApi","listQuanInRoom","map","room","districts_id","listQuanApi","listQuanDetai","quan","district_id","listDataQuan","district_name","listDataIdQuan","listRoomQuan","listTinhInRoom","provinces_id","listTinhApi","listTinhDetai","tinh","province_id","listDataTinh","province_name","listDataIdTinh","listRoomTinh","dataSearch","concat","listBill","bill","isBetween","listBillLoai","item","houseId","filterBillRoom","id","dataSearch1","window","scrollTo"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme.js';\n// import Container from '@material-ui/core/Container';\n// import Box from '@material-ui/core/Box';\n// import { makeStyles } from '@material-ui/core/styles';\nimport Loading from '../../Components/Load/Load'\nimport Header from '../../Components/Header/Header';\nimport Category from '../../Components/Category/Category';\nimport ShowRoom from '../../Components/ShowRoom/ShowRoom';\nimport Slider from '../../Components/Slider/Slider';\nimport Footer from '../../Components/Footer/Footer';\nimport { BASE_API } from '../../Constants/index';\nimport axios from 'axios';\nimport Load from '../../Components/Load/Load';\nimport queryString from \"query-string\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\n\n// const useStyles = makeStyles((theme) => ({\n//     '@global': {\n\n//         margin: 0,\n//         padding: 0,\n//         listStyle: 'none',\n\n//         a: {\n//             textDecoration: 'none',\n//         }\n//     },\n\n// }));\nexport default function ShowHome(props) {\n    const [roomInfor, setRoomInfor] = React.useState([]);\n    const dispatch = useDispatch();\n    // console.log(\"üöÄ ~ file: Search.js ~ line 32 ~ ShowHome ~ roomInfor\", roomInfor);\n    const search1 = queryString.parse(props.location.search);\n    // console.log(search1)\n    const keySearch = search1.key;\n    const startDateSearch = search1.checkIn;\n    const endDateSearch = search1.checkOut;\n    // console.log(\"üöÄ ~ file: Search.js ~ line 35 ~ ShowHome ~ key\", keySearch)\n    function removeVietnameseTones(str) {\n        str = str.replace(/√†|√°|·∫°|·∫£|√£|√¢|·∫ß|·∫•|·∫≠|·∫©|·∫´|ƒÉ|·∫±|·∫Ø|·∫∑|·∫≥|·∫µ/g, \"a\");\n        str = str.replace(/√®|√©|·∫π|·∫ª|·∫Ω|√™|·ªÅ|·∫ø|·ªá|·ªÉ|·ªÖ/g, \"e\");\n        str = str.replace(/√¨|√≠|·ªã|·ªâ|ƒ©/g, \"i\");\n        str = str.replace(/√≤|√≥|·ªç|·ªè|√µ|√¥|·ªì|·ªë|·ªô|·ªï|·ªó|∆°|·ªù|·ªõ|·ª£|·ªü|·ª°/g, \"o\");\n        str = str.replace(/√π|√∫|·ª•|·ªß|≈©|∆∞|·ª´|·ª©|·ª±|·ª≠|·ªØ/g, \"u\");\n        str = str.replace(/·ª≥|√Ω|·ªµ|·ª∑|·ªπ/g, \"y\");\n        str = str.replace(/ƒë/g, \"d\");\n        str = str.replace(/√Ä|√Å|·∫†|·∫¢|√É|√Ç|·∫¶|·∫§|·∫¨|·∫®|·∫™|ƒÇ|·∫∞|·∫Æ|·∫∂|·∫≤|·∫¥/g, \"a\");\n        str = str.replace(/√à|√â|·∫∏|·∫∫|·∫º|√ä|·ªÄ|·∫æ|·ªÜ|·ªÇ|·ªÑ/g, \"e\");\n        str = str.replace(/√å|√ç|·ªä|·ªà|ƒ®/g, \"i\");\n        str = str.replace(/√í|√ì|·ªå|·ªé|√ï|√î|·ªí|·ªê|·ªò|·ªî|·ªñ|∆†|·ªú|·ªö|·ª¢|·ªû|·ª†/g, \"o\");\n        str = str.replace(/√ô|√ö|·ª§|·ª¶|≈®|∆Ø|·ª™|·ª®|·ª∞|·ª¨|·ªÆ|U/g, \"u\");\n        str = str.replace(/·ª≤|√ù|·ª¥|·ª∂|·ª∏/g, \"y\");\n        str = str.replace(/ƒê/g, \"d\");\n        str = str.replace(/\\s/g, '');\n        str = str.toLowerCase();\n        // Some system encode vietnamese combining accent as individual utf-8 characters\n        // M·ªôt v√†i b·ªô encode coi c√°c d·∫•u m≈©, d·∫•u ch·ªØ nh∆∞ m·ªôt k√≠ t·ª± ri√™ng bi·ªát n√™n th√™m hai d√≤ng n√†y\n        str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ÃÄ ÃÅ ÃÉ Ãâ Ã£  huy·ªÅn, s·∫Øc, ng√£, h·ªèi, n·∫∑ng\n        str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ÀÜ ÃÜ Ãõ  √Ç, √ä, ƒÇ, ∆†, ∆Ø\n        // Remove extra spaces\n        // B·ªè c√°c kho·∫£ng tr·∫Øng li·ªÅn nhau\n        str = str.replace(/ + /g, \" \");\n        str = str.trim();\n        // Remove punctuations\n        // B·ªè d·∫•u c√¢u, k√≠ t·ª± ƒë·∫∑c bi·ªát\n        str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\n        return str;\n    }\n    // console.log(removeVietnameseTones(\"huyengiaothuy\").includes(removeVietnameseTones(\"giaot\")));\n    const [bills, setBills] = React.useState();\n\n    React.useEffect(() => {\n        axios.get(\"http://localhost:1337/bills?statusPayment_in=1&statusPayment_in=2\")\n            // axios.get(\"http://localhost:1337/bills\")\n            .then((response) => {\n                setBills(response.data)\n            })\n            .catch((error) =>\n                console.log(\"loi\")\n            )\n    }, [])\n    console.log(bills)\n\n    const search = useSelector(state => state.searchAdv);\n    const numberKhach = useSelector(state => state.search);\n    const startDate = moment(startDateSearch, 'DD-MM-YYYY').toDate();\n    const endDate = moment(endDateSearch, 'DD-MM-YYYY').toDate();\n    // console.log(startDate,startDateSearch);\n    // console.log(endDate,endDateSearch);\n\n\n    React.useEffect(() => {\n        // const mang = ['600f0b2a3f60ed53ac6d94ef','600f12293f60ed53ac6d94f0','600fde2523d29a1b5ac97272','60102d87ada05dde5ecc034d','600fddcc23d29a1b5ac97271']\n\n\n        // axios.get(`http://localhost:1337/house-for-rents?&${search.checkedNhaRieng === true ? 'id_typehouse=600fddcc23d29a1b5ac97271' : ''}&${search.checkedNhaNghi === true ? 'id_typehouse=60102d87ada05dde5ecc034d' : ''}&${search.checkedKhac === true ? 'id_typehouse_nin=600f0b2a3f60ed53ac6d94ef&id_typehouse_nin=600f12293f60ed53ac6d94f0&id_typehouse_nin=600fde2523d29a1b5ac97272&id_typehouse_nin=60102d87ada05dde5ecc034d&id_typehouse_nin=600fddcc23d29a1b5ac97271' : ''}&_where[0][price_gte]=${search.valuePriceMin}&_where[0][price_lte]=${search.valuePriceMax}&number_of_bedroom_gte=${search.numberRoom}&people_max_gte=${numberKhach.adults + numberKhach.children}`)\n        axios.get(`http://localhost:1337/house-for-rents?${search.checkedChungCu === true ? 'id_typehouse=600f0b2a3f60ed53ac6d94ef' : ''}&${search.checkedBietThu === true ? 'id_typehouse=600fde2523d29a1b5ac97272' : ''}&${search.checkedHomeStay === true ? 'id_typehouse=600f12293f60ed53ac6d94f0' : ''}&${search.checkedNhaRieng === true ? 'id_typehouse=600fddcc23d29a1b5ac97271' : ''}&${search.checkedNhaNghi === true ? 'id_typehouse=60102d87ada05dde5ecc034d' : ''}&${search.checkedKhac === true ? 'id_typehouse_nin=600f0b2a3f60ed53ac6d94ef&id_typehouse_nin=600f12293f60ed53ac6d94f0&id_typehouse_nin=600fde2523d29a1b5ac97272&id_typehouse_nin=60102d87ada05dde5ecc034d&id_typehouse_nin=600fddcc23d29a1b5ac97271' : ''}&_where[0][price_gte]=${search.valuePriceMin}&_where[0][price_lte]=${search.valuePriceMax}&number_of_bedroom_gte=${search.numberRoom}&people_max_gte=${numberKhach.adults + numberKhach.children}`)\n            .then(response => {\n                const data = response.data;\n                if (!keySearch && !startDateSearch && !endDateSearch) {\n                    setRoomInfor(data);\n                    // console.log(data)\n\n                }\n                else if (keySearch && !startDateSearch && !endDateSearch) {\n                    var list = [];\n                    if (keySearch.length < 3) {\n\n                        setRoomInfor(list);\n                    } else {\n                        async function searchFn() {\n                            const listWard = await data.filter((house) => removeVietnameseTones(house.address_ward).includes(removeVietnameseTones(keySearch)) === true);\n\n                            const listRoomApi = await axios.get(`${BASE_API}/house-for-rents`);\n\n                            const listQuanInRoom = await listRoomApi?.data.map((room) => room.districts_id);\n                            const listQuanApi = await axios.get(`${BASE_API}/districts?_limit=10000`);\n                            const listQuanDetai = await listQuanApi?.data.filter(quan => listQuanInRoom.includes(quan.district_id))\n                            const listDataQuan = await listQuanDetai.filter(quan => removeVietnameseTones(quan.district_name).includes(removeVietnameseTones(keySearch)));\n                            const listDataIdQuan = await listDataQuan.map((quan) => quan.district_id)\n                            const listRoomQuan = await data.filter(house => listDataIdQuan.includes(house.districts_id))\n\n                            const listTinhInRoom = await listRoomApi?.data.map((room) => room.provinces_id);\n                            const listTinhApi = await axios.get(`${BASE_API}/provinces`);\n                            const listTinhDetai = await listTinhApi?.data.filter(tinh => listTinhInRoom.includes(tinh.province_id))\n                            const listDataTinh = await listTinhDetai.filter(tinh => removeVietnameseTones(tinh.province_name).includes(removeVietnameseTones(keySearch)));\n                            const listDataIdTinh = await listDataTinh.map(tinh => tinh.province_id);\n                            const listRoomTinh = await data.filter(house => listDataIdTinh.includes(house.provinces_id))\n                            const dataSearch = listWard.concat(listRoomQuan, listRoomTinh);\n                            setRoomInfor(dataSearch);\n\n                            // console.log(listQuanDetai)\n                            // const listDataTinh2 = await listQuanDetai.filter(quan => console.log(removeVietnameseTones(quan.district_name)));\n                            // const listDataTinh3 = await listQuanDetai.filter(quan => console.log(removeVietnameseTones(keySearch)));\n                        }\n                        searchFn();\n\n                    }\n\n\n\n                }\n                else if (!keySearch && startDateSearch && endDateSearch) {\n                    \n                        const listBill = bills?.filter(bill => moment(bill?.checkIn)?.isBetween(startDate, endDate, 'day', '[]') == true || moment(bill?.checkOut)?.isBetween(startDate, endDate, 'day', '[]') == true || moment(startDate)?.isBetween(bill?.checkIn, bill?.checkOut, 'day', '[]') === true || moment(endDate)?.isBetween(bill?.checkIn, bill?.checkOut, 'day', '[]') === true);\n\n                        \n                        console.log(listBill)\n                        let listBillLoai = listBill.map(item => { return item.houseId })\n                        console.log(listBillLoai)\n\n                        const filterBillRoom = data?.filter(room => !listBillLoai?.includes(room?.id));\n                        console.log(filterBillRoom)\n\n                        setRoomInfor(filterBillRoom);\n                   \n\n\n\n                }\n                else if (keySearch && startDateSearch && endDateSearch) {\n                    async function searchFn() {\n                        const listWard = await data.filter((house) => removeVietnameseTones(house.address_ward).includes(removeVietnameseTones(keySearch)) === true);\n\n                        const listRoomApi = await axios.get(`${BASE_API}/house-for-rents`);\n\n                        const listQuanInRoom = await listRoomApi?.data.map((room) => room.districts_id);\n                        const listQuanApi = await axios.get(`${BASE_API}/districts?_limit=10000`);\n                        const listQuanDetai = await listQuanApi?.data.filter(quan => listQuanInRoom.includes(quan.district_id))\n                        const listDataQuan = await listQuanDetai.filter(quan => removeVietnameseTones(quan.district_name).includes(removeVietnameseTones(keySearch)));\n                        const listDataIdQuan = await listDataQuan.map((quan) => quan.district_id)\n                        const listRoomQuan = await data.filter(house => listDataIdQuan.includes(house.districts_id))\n\n                        const listTinhInRoom = await listRoomApi?.data.map((room) => room.provinces_id);\n                        const listTinhApi = await axios.get(`${BASE_API}/provinces`);\n                        const listTinhDetai = await listTinhApi?.data.filter(tinh => listTinhInRoom.includes(tinh.province_id))\n                        const listDataTinh = await listTinhDetai.filter(tinh => removeVietnameseTones(tinh.province_name).includes(removeVietnameseTones(keySearch)));\n                        const listDataIdTinh = await listDataTinh.map(tinh => tinh.province_id);\n                        const listRoomTinh = await data.filter(house => listDataIdTinh.includes(house.provinces_id))\n                        const dataSearch1 = listWard.concat(listRoomQuan, listRoomTinh);\n\n\n                        const listBill = bills?.filter(bill => moment(bill.checkIn)?.isBetween(startDate, endDate, 'day', '[]') == true || moment(bill.checkOut)?.isBetween(startDate, endDate, 'day', '[]') == true || moment(startDate)?.isBetween(bill?.checkIn, bill?.checkOut, 'day', '[]') === true || moment(endDate)?.isBetween(bill?.checkIn, bill?.checkOut, 'day', '[]') === true);\n\n                        // console.log(listBill)\n                        let listBillLoai = listBill.map(item => { return item.houseId })\n                        // console.log(listBillLoai)\n\n                        const filterBillRoom = dataSearch1?.filter((room) => !listBillLoai?.includes(room?.id))\n\n                        // const dataSearch2 = dataSearch1.concat(filterBillRoom);\n                        setRoomInfor(filterBillRoom)\n                    }\n                    searchFn();\n                    // console.log(filterBillRoom);\n\n\n\n                }\n\n\n\n            })\n            .catch((error) => {\n                console.log(error);\n            })\n\n    }, [keySearch, startDateSearch, endDateSearch, numberKhach, search,bills])\n    //    const [dataRooms, setDataRooms] = React.useState();\n\n    // if(startDateSearch && endDateSearch === \"Invalid date\"){\n    //     const listBill = bills?.filter(bill=> moment(startDate)?.isBetween(bill?.checkIn, bill?.checkOut, 'day' , '[)'));\n    //     let listA = listBill?.map(itemBillIdRoom => {\n    //         return itemBillIdRoom?.houseId;\n    //     })\n    //     let listB = roomInfor?.filter(roomItem => !listA.includes(roomItem.id))\n    //     console.log(listB)\n    //     console.log('aa')\n\n    // }\n\n\n\n\n    // const classes = useStyles();\n    // React.useEffect(() => {\n    //     axios.get(\"http://localhost:1337/house-for-rents?_limit=20\")\n    //         .then(response => {\n    //             setRoomInfor(response.data);\n    //         }).catch((error) => {\n    //             console.log(\"l·ªói\");\n    //         })\n    // }, [])\n    // const token = document.cookie;\n\n    // const token1 = token.slice(token.indexOf(\"admin=\") + 6, token.indexOf(\",\"));\n\n    // axios.get('http://localhost:1337/users', {\n    //     headers: {\n    //         Authorization: `Bearer ${token1}`,\n    //     },\n    // })\n    //     .then(response => {\n    //         // Handle success.\n    //     })\n    //     .catch(error => {\n    //         // Handle error.\n    //         console.log('An error occurred:', error.response);\n    //     });\n    React.useEffect(() => {\n        window.scrollTo(0, 0);\n    }, [])\n    return (\n        <div>\n            <ThemeProvider theme={theme}>\n\n                <Header />\n                <Category />\n                <Slider />\n                <ShowRoom data={roomInfor} />\n                <Footer />\n\n\n\n            </ThemeProvider >\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}